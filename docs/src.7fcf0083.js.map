{"version":3,"sources":["../node_modules/dom4/build/dom4.max.js","ts_src/Patch/Native.ts","ts_src/Utilities.ts","ts_src/CustomElementInternals.ts","ts_src/custom-elements.ts","ts_src/CustomElementState.ts","ts_src/Deferred.ts","ts_src/DocumentConstructionObserver.ts","ts_src/CustomElementRegistry.ts","ts_src/Patch/Interface/ParentNode.ts","ts_src/Patch/Element.ts","ts_src/Patch/Interface/ChildNode.ts","ts_src/AlreadyConstructedMarker.ts","ts_src/Patch/HTMLElement.ts","ts_src/Patch/Document.ts","ts_src/Patch/DocumentFragment.ts","ts_src/Patch/Node.ts","../node_modules/mutation-observer/index.js","../src/bind.ts","../src/register.ts","../src/findtarget.ts","../src/target.ts","../src/auto-shadow-root.ts","../src/attr.ts","../src/controller.ts","../src/index.ts","components/logs-app.ts","components/logs-step-nav.ts","components/logs-header.ts","components/logs-details.ts","index.ts"],"names":["Document_createElement","window","Document","prototype","createElement","Document_createElementNS","createElementNS","Document_importNode","importNode","Document_prepend","Document_append","DocumentFragment_prepend","DocumentFragment","DocumentFragment_append","Node_cloneNode","Node","cloneNode","Node_appendChild","appendChild","Node_insertBefore","insertBefore","Node_removeChild","removeChild","Node_replaceChild","replaceChild","Node_textContent","Object","getOwnPropertyDescriptor","Element_attachShadow","Element","Element_innerHTML","Element_getAttribute","getAttribute","Element_setAttribute","setAttribute","Element_removeAttribute","removeAttribute","Element_getAttributeNS","getAttributeNS","Element_setAttributeNS","setAttributeNS","Element_removeAttributeNS","removeAttributeNS","Element_insertAdjacentElement","Element_insertAdjacentHTML","Element_prepend","Element_append","Element_before","Element_after","Element_replaceWith","Element_remove","HTMLElement","HTMLElement_innerHTML","HTMLElement_insertAdjacentElement","HTMLElement_insertAdjacentHTML","reservedElementNameSet","Set","isValidCustomElementName","localName","reserved","has","validForm","test","forEach","item","add","nativeContains","document","contains","bind","documentElement","isConnected","node","nativeValue","undefined","current","__CE_isImportDocument","parentNode","ShadowRoot","host","childrenFromFragment","fragment","nativeChildren","children","Array","slice","call","n","firstChild","nextSibling","nodeType","ELEMENT_NODE","push","nextSiblingOrAncestorSibling","root","start","constructor","CustomElementInternals","noDocumentConstructionObserver","priorCustomElements","shadyDomFastWalk","_patchesNode","_patchesElement","_hasPatches","useDocumentConstructionObserver","forEachElement","callback","visitedImports","sd","querySelectorAll","elements","i","length","walkDeepDescendantElements","element","import","child","shadowRoot","__CE_shadowRoot","patchTree","patchElement","__CE_patched","connectTree","custom","__CE_state","connectedCallback","upgradeReaction","disconnectTree","disconnectedCallback","patchAndUpgradeTree","options","upgrade","gatherElements","__CE_registry","readyState","__CE_documentLoadHandled","addEventListener","clonedVisitedImports","delete","ownerDocument","registry","doc","defaultView","internal_localNameToDefinition","definition","constructionStack","result","constructorFunction","Error","pop","e","failed","__CE_definition","attributeChangedCallback","hasAttributes","observedAttributes","name","value","_upgradeAnElement","reportTheException","createAnElement","namespace","NS_HTML","namespaceURI","setPrototypeOf","HTMLUnknownElement","errorArg","message","filename","sourceURL","fileName","lineno","line","lineNumber","colno","column","columnNumber","event","ErrorEvent","initErrorEvent","cancelable","error","createEvent","preventDefault","event.preventDefault","defineProperty","configurable","get","enumerable","dispatchEvent","defaultPrevented","console","Deferred","_value","_promise","Promise","resolve","_resolve","DocumentConstructionObserver","internals","_observer","_internals","_document","MutationObserver","_handleMutations","observe","childList","subtree","disconnect","CustomElementRegistry","_localNameToConstructorGetter","Map","_localNameToDefinition","_constructorToDefinition","_elementDefinitionIsRunning","_whenDefinedDeferred","_flushCallback","this._flushCallback","fn","_flushPending","_unflushedLocalNames","_documentConstructionObserver","internal_assertCanDefineLocalName","SyntaxError","internal_reifyDefinition","TypeError","getCallback","callbackValue","Function","adoptedCallback","set","_flush","elementsWithStableDefinitions","unflushedLocalNames","elementsWithPendingDefinitions","pendingElements","pendingUpgradableElements","deferred","existingDefinition","constructorGetter","destination","builtIn","appendPrependPatch","builtInMethod","nodes","flattenedNodes","connectedElements","apply","prepend","append","patch_innerHTML","baseDescriptor","htmlString","removedElements","patch_insertAdjacentElement","baseMethod","insertAdjacentElement","destination.insertAdjacentElement","position","wasConnected","insertedElement","patch_insertAdjacentHTML","upgradeNodesInRange","end","insertAdjacentHTML","destination.insertAdjacentHTML","text","strPosition","toLowerCase","marker","previousSibling","lastChild","String","attachShadow","Element.prototype.attachShadow","init","addElementPatch","patch","innerHTML","assignedValue","isTemplate","content","rawElement","childNodes","container","Element.prototype.setAttribute","newValue","oldValue","Element.prototype.setAttributeNS","Element.prototype.removeAttribute","Element.prototype.removeAttributeNS","PatchParentNode","beforeAfterPatch","before","after","replaceWith","destination.replaceWith","remove","destination.remove","PatchChildNode","indexOf","mutations","addedNodes","j","polyfillDefineLazy","define","whenDefined","reject","prior","anyDefinitionExists","definitionHasFlushed","polyfillWrapFlushCallback","outer","inner","flush","alreadyConstructedMarker","installPolyfill","PatchedHTMLElement","lastIndex","writable","PatchHTMLElement","Document.prototype.createElement","Document.prototype.importNode","deep","clone","Document.prototype.createElementNS","PatchDocument","patch_textContent","TEXT_NODE","removedNodes","childNodesLength","Node.prototype.insertBefore","refNode","insertedNodes","nativeResult","nodeWasConnectedElement","Node.prototype.appendChild","Node.prototype.cloneNode","Node.prototype.removeChild","Node.prototype.replaceChild","nodeToInsert","nodeToRemove","nodeToInsertWasConnectedElement","thisIsConnected","addNodePatch","parts","COMMENT_NODE","textContent","join","createTextNode","PatchNode","PatchElement","customElements"],"mappings":"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","file":"src.7fcf0083.js","sourceRoot":"../src","sourcesContent":["/*!\nCopyright (C) 2013-2015 by Andrea Giammarchi - @WebReflection\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n(function(window){'use strict';\n  /* jshint loopfunc: true, noempty: false*/\n  // http://www.w3.org/TR/dom/#element\n\n  function createDocumentFragment() {\n    return document.createDocumentFragment();\n  }\n\n  function createElement(nodeName) {\n    return document.createElement(nodeName);\n  }\n\n  function enoughArguments(length, name) {\n    if (!length) throw new Error(\n      'Failed to construct ' +\n        name +\n      ': 1 argument required, but only 0 present.'\n    );\n  }\n\n  function mutationMacro(nodes) {\n    if (nodes.length === 1) {\n      return textNodeIfPrimitive(nodes[0]);\n    }\n    for (var\n      fragment = createDocumentFragment(),\n      list = slice.call(nodes),\n      i = 0; i < nodes.length; i++\n    ) {\n      fragment.appendChild(textNodeIfPrimitive(list[i]));\n    }\n    return fragment;\n  }\n\n  function textNodeIfPrimitive(node) {\n    return typeof node === 'object' ? node : document.createTextNode(node);\n  }\n\n  for(var\n    head,\n    property,\n    TemporaryPrototype,\n    TemporaryTokenList,\n    wrapVerifyToken,\n    document = window.document,\n    hOP = Object.prototype.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (object, property, descriptor) {\n      if (hOP.call(descriptor, 'value')) {\n        object[property] = descriptor.value;\n      } else {\n        if (hOP.call(descriptor, 'get'))\n          object.__defineGetter__(property, descriptor.get);\n        if (hOP.call(descriptor, 'set'))\n          object.__defineSetter__(property, descriptor.set);\n      }\n      return object;\n    },\n    indexOf = [].indexOf || function indexOf(value){\n      var length = this.length;\n      while(length--) {\n        if (this[length] === value) {\n          break;\n        }\n      }\n      return length;\n    },\n    // http://www.w3.org/TR/domcore/#domtokenlist\n    verifyToken = function (token) {\n      if (!token) {\n        throw 'SyntaxError';\n      } else if (spaces.test(token)) {\n        throw 'InvalidCharacterError';\n      }\n      return token;\n    },\n    DOMTokenList = function (node) {\n      var\n        noClassName = typeof node.className === 'undefined',\n        className = noClassName ?\n          (node.getAttribute('class') || '') : node.className,\n        isSVG = noClassName || typeof className === 'object',\n        value = (isSVG ?\n          (noClassName ? className : className.baseVal) :\n          className\n        ).replace(trim, '')\n      ;\n      if (value.length) {\n        properties.push.apply(\n          this,\n          value.split(spaces)\n        );\n      }\n      this._isSVG = isSVG;\n      this._ = node;\n    },\n    classListDescriptor = {\n      get: function get() {\n        return new DOMTokenList(this);\n      },\n      set: function(){}\n    },\n    trim = /^\\s+|\\s+$/g,\n    spaces = /\\s+/,\n    SPACE = '\\x20',\n    CLASS_LIST = 'classList',\n    toggle = function toggle(token, force) {\n      if (this.contains(token)) {\n        if (!force) {\n          // force is not true (either false or omitted)\n          this.remove(token);\n        }\n      } else if(force === undefined || force) {\n        force = true;\n        this.add(token);\n      }\n      return !!force;\n    },\n    DocumentFragmentPrototype = window.DocumentFragment && DocumentFragment.prototype,\n    Node = window.Node,\n    NodePrototype = (Node || Element).prototype,\n    CharacterData = window.CharacterData || Node,\n    CharacterDataPrototype = CharacterData && CharacterData.prototype,\n    DocumentType = window.DocumentType,\n    DocumentTypePrototype = DocumentType && DocumentType.prototype,\n    ElementPrototype = (window.Element || Node || window.HTMLElement).prototype,\n    HTMLSelectElement = window.HTMLSelectElement || createElement('select').constructor,\n    selectRemove = HTMLSelectElement.prototype.remove,\n    SVGElement = window.SVGElement,\n    properties = [\n      'matches', (\n        ElementPrototype.matchesSelector ||\n        ElementPrototype.webkitMatchesSelector ||\n        ElementPrototype.khtmlMatchesSelector ||\n        ElementPrototype.mozMatchesSelector ||\n        ElementPrototype.msMatchesSelector ||\n        ElementPrototype.oMatchesSelector ||\n        function matches(selector) {\n          var parentNode = this.parentNode;\n          return !!parentNode && -1 < indexOf.call(\n            parentNode.querySelectorAll(selector),\n            this\n          );\n        }\n      ),\n      'closest', function closest(selector) {\n        var parentNode = this, matches;\n        while (\n          // document has no .matches\n          (matches = parentNode && parentNode.matches) &&\n          !parentNode.matches(selector)\n        ) {\n          parentNode = parentNode.parentNode;\n        }\n        return matches ? parentNode : null;\n      },\n      'prepend', function prepend() {\n        var firstChild = this.firstChild,\n            node = mutationMacro(arguments);\n        if (firstChild) {\n          this.insertBefore(node, firstChild);\n        } else {\n          this.appendChild(node);\n        }\n      },\n      'append', function append() {\n        this.appendChild(mutationMacro(arguments));\n      },\n      'before', function before() {\n        var parentNode = this.parentNode;\n        if (parentNode) {\n          parentNode.insertBefore(\n            mutationMacro(arguments), this\n          );\n        }\n      },\n      'after', function after() {\n        var parentNode = this.parentNode,\n            nextSibling = this.nextSibling,\n            node = mutationMacro(arguments);\n        if (parentNode) {\n          if (nextSibling) {\n            parentNode.insertBefore(node, nextSibling);\n          } else {\n            parentNode.appendChild(node);\n          }\n        }\n      },\n      // https://dom.spec.whatwg.org/#dom-element-toggleattribute\n      'toggleAttribute', function toggleAttribute(name, force) {\n        var had = this.hasAttribute(name);\n        if (1 < arguments.length) {\n          if (had && !force)\n            this.removeAttribute(name);\n          else if (force && !had)\n            this.setAttribute(name, \"\");\n        }\n        else if (had)\n          this.removeAttribute(name);\n        else\n          this.setAttribute(name, \"\");\n        return this.hasAttribute(name);\n      },\n      // WARNING - DEPRECATED - use .replaceWith() instead\n      'replace', function replace() {\n        this.replaceWith.apply(this, arguments);\n      },\n      'replaceWith', function replaceWith() {\n        var parentNode = this.parentNode;\n        if (parentNode) {\n          parentNode.replaceChild(\n            mutationMacro(arguments),\n            this\n          );\n        }\n      },\n      'remove', function remove() {\n        var parentNode = this.parentNode;\n        if (parentNode) {\n          parentNode.removeChild(this);\n        }\n      }\n    ],\n    slice = properties.slice,\n    i = properties.length; i; i -= 2\n  ) {\n    property = properties[i - 2];\n    if (!(property in ElementPrototype)) {\n      ElementPrototype[property] = properties[i - 1];\n    }\n    // avoid unnecessary re-patch when the script is included\n    // gazillion times without any reason whatsoever\n    // https://github.com/WebReflection/dom4/pull/48\n    if (property === 'remove' && !selectRemove._dom4) {\n      // see https://github.com/WebReflection/dom4/issues/19\n      (HTMLSelectElement.prototype[property] = function () {\n        return 0 < arguments.length ?\n          selectRemove.apply(this, arguments) :\n          ElementPrototype.remove.call(this);\n      })._dom4 = true;\n    }\n    // see https://github.com/WebReflection/dom4/issues/18\n    if (/^(?:before|after|replace|replaceWith|remove)$/.test(property)) {\n      if (CharacterData && !(property in CharacterDataPrototype)) {\n        CharacterDataPrototype[property] = properties[i - 1];\n      }\n      if (DocumentType && !(property in DocumentTypePrototype)) {\n        DocumentTypePrototype[property] = properties[i - 1];\n      }\n    }\n    // see https://github.com/WebReflection/dom4/pull/26\n    if (/^(?:append|prepend)$/.test(property)) {\n      if (DocumentFragmentPrototype) {\n        if (!(property in DocumentFragmentPrototype)) {\n          DocumentFragmentPrototype[property] = properties[i - 1];\n        }\n      } else {\n        try {\n          createDocumentFragment().constructor.prototype[property] = properties[i - 1];\n        } catch(o_O) {}\n      }\n    }\n  }\n\n  // most likely an IE9 only issue\n  // see https://github.com/WebReflection/dom4/issues/6\n  if (!createElement('a').matches('a')) {\n    ElementPrototype[property] = function(matches){\n      return function (selector) {\n        return matches.call(\n          this.parentNode ?\n            this :\n            createDocumentFragment().appendChild(this),\n          selector\n        );\n      };\n    }(ElementPrototype[property]);\n  }\n\n  // used to fix both old webkit and SVG\n  DOMTokenList.prototype = {\n    length: 0,\n    add: function add() {\n      for(var j = 0, token; j < arguments.length; j++) {\n        token = arguments[j];\n        if(!this.contains(token)) {\n          properties.push.call(this, property);\n        }\n      }\n      if (this._isSVG) {\n        this._.setAttribute('class', '' + this);\n      } else {\n        this._.className = '' + this;\n      }\n    },\n    contains: (function(indexOf){\n      return function contains(token) {\n        i = indexOf.call(this, property = verifyToken(token));\n        return -1 < i;\n      };\n    }([].indexOf || function (token) {\n      i = this.length;\n      while(i-- && this[i] !== token){}\n      return i;\n    })),\n    item: function item(i) {\n      return this[i] || null;\n    },\n    remove: function remove() {\n      for(var j = 0, token; j < arguments.length; j++) {\n        token = arguments[j];\n        if(this.contains(token)) {\n          properties.splice.call(this, i, 1);\n        }\n      }\n      if (this._isSVG) {\n        this._.setAttribute('class', '' + this);\n      } else {\n        this._.className = '' + this;\n      }\n    },\n    toggle: toggle,\n    toString: function toString() {\n      return properties.join.call(this, SPACE);\n    }\n  };\n\n  if (SVGElement && !(CLASS_LIST in SVGElement.prototype)) {\n    defineProperty(SVGElement.prototype, CLASS_LIST, classListDescriptor);\n  }\n\n  // http://www.w3.org/TR/dom/#domtokenlist\n  // iOS 5.1 has completely screwed this property\n  // classList in ElementPrototype is false\n  // but it's actually there as getter\n  if (!(CLASS_LIST in document.documentElement)) {\n    defineProperty(ElementPrototype, CLASS_LIST, classListDescriptor);\n  } else {\n    // iOS 5.1 and Nokia ASHA do not support multiple add or remove\n    // trying to detect and fix that in here\n    TemporaryTokenList = createElement('div')[CLASS_LIST];\n    TemporaryTokenList.add('a', 'b', 'a');\n    if ('a\\x20b' != TemporaryTokenList) {\n      // no other way to reach original methods in iOS 5.1\n      TemporaryPrototype = TemporaryTokenList.constructor.prototype;\n      if (!('add' in TemporaryPrototype)) {\n        // ASHA double fails in here\n        TemporaryPrototype = window.TemporaryTokenList.prototype;\n      }\n      wrapVerifyToken = function (original) {\n        return function () {\n          var i = 0;\n          while (i < arguments.length) {\n            original.call(this, arguments[i++]);\n          }\n        };\n      };\n      TemporaryPrototype.add = wrapVerifyToken(TemporaryPrototype.add);\n      TemporaryPrototype.remove = wrapVerifyToken(TemporaryPrototype.remove);\n      // toggle is broken too ^_^ ... let's fix it\n      TemporaryPrototype.toggle = toggle;\n    }\n  }\n\n  if (!('contains' in NodePrototype)) {\n    defineProperty(NodePrototype, 'contains', {\n      value: function (el) {\n        while (el && el !== this) el = el.parentNode;\n        return this === el;\n      }\n    });\n  }\n\n  if (!('head' in document)) {\n    defineProperty(document, 'head', {\n      get: function () {\n        return head || (\n          head = document.getElementsByTagName('head')[0]\n        );\n      }\n    });\n  }\n\n  // requestAnimationFrame partial polyfill\n  (function () {\n    for (var\n      raf,\n      rAF = window.requestAnimationFrame,\n      cAF = window.cancelAnimationFrame,\n      prefixes = ['o', 'ms', 'moz', 'webkit'],\n      i = prefixes.length;\n      !cAF && i--;\n    ) {\n      rAF = rAF || window[prefixes[i] + 'RequestAnimationFrame'];\n      cAF = window[prefixes[i] + 'CancelAnimationFrame'] ||\n            window[prefixes[i] + 'CancelRequestAnimationFrame'];\n    }\n    if (!cAF) {\n      // some FF apparently implemented rAF but no cAF \n      if (rAF) {\n        raf = rAF;\n        rAF = function (callback) {\n          var goOn = true;\n          raf(function () {\n            if (goOn) callback.apply(this, arguments);\n          });\n          return function () {\n            goOn = false;\n          };\n        };\n        cAF = function (id) {\n          id();\n        };\n      } else {\n        rAF = function (callback) {\n          return setTimeout(callback, 15, 15);\n        };\n        cAF = function (id) {\n          clearTimeout(id);\n        };\n      }\n    }\n    window.requestAnimationFrame = rAF;\n    window.cancelAnimationFrame = cAF;\n  }());\n\n  // http://www.w3.org/TR/dom/#customevent\n  try{new window.CustomEvent('?');}catch(o_O){\n    window.CustomEvent = function(\n      eventName,\n      defaultInitDict\n    ){\n\n      // the infamous substitute\n      function CustomEvent(type, eventInitDict) {\n        /*jshint eqnull:true */\n        var event = document.createEvent(eventName);\n        if (typeof type != 'string') {\n          throw new Error('An event name must be provided');\n        }\n        if (eventName == 'Event') {\n          event.initCustomEvent = initCustomEvent;\n        }\n        if (eventInitDict == null) {\n          eventInitDict = defaultInitDict;\n        }\n        event.initCustomEvent(\n          type,\n          eventInitDict.bubbles,\n          eventInitDict.cancelable,\n          eventInitDict.detail\n        );\n        return event;\n      }\n\n      // attached at runtime\n      function initCustomEvent(\n        type, bubbles, cancelable, detail\n      ) {\n        /*jshint validthis:true*/\n        this.initEvent(type, bubbles, cancelable);\n        this.detail = detail;\n      }\n\n      // that's it\n      return CustomEvent;\n    }(\n      // is this IE9 or IE10 ?\n      // where CustomEvent is there\n      // but not usable as construtor ?\n      window.CustomEvent ?\n        // use the CustomEvent interface in such case\n        'CustomEvent' : 'Event',\n        // otherwise the common compatible one\n      {\n        bubbles: false,\n        cancelable: false,\n        detail: null\n      }\n    );\n  }\n\n  // window.Event as constructor\n  try { new Event('_'); } catch (o_O) {\n    /* jshint -W022 */\n    o_O = (function ($Event) {\n      function Event(type, init) {\n        enoughArguments(arguments.length, 'Event');\n        var out = document.createEvent('Event');\n        if (!init) init = {};\n        out.initEvent(\n          type,\n          !!init.bubbles,\n          !!init.cancelable\n        );\n        return out;\n      }\n      Event.prototype = $Event.prototype;\n      return Event;\n    }(window.Event || function Event() {}));\n    defineProperty(window, 'Event', {value: o_O});\n    // Android 4 gotcha\n    if (Event !== o_O) Event = o_O;\n  }\n\n  // window.KeyboardEvent as constructor\n  try { new KeyboardEvent('_', {}); } catch (o_O) {\n    /* jshint -W022 */\n    o_O = (function ($KeyboardEvent) {\n      // code inspired by https://gist.github.com/termi/4654819\n      var\n        initType = 0,\n        defaults = {\n          char: '',\n          key: '',\n          location: 0,\n          ctrlKey: false,\n          shiftKey: false,\n          altKey: false,\n          metaKey: false,\n          altGraphKey: false,\n          repeat: false,\n          locale: navigator.language,\n          detail: 0,\n          bubbles: false,\n          cancelable: false,\n          keyCode: 0,\n          charCode: 0,\n          which: 0\n        },\n        eventType\n      ;\n      try {\n        var e = document.createEvent('KeyboardEvent');\n        e.initKeyboardEvent(\n          'keyup', false, false, window, '+', 3,\n          true, false, true, false, false\n        );\n        initType = (\n          (e.keyIdentifier || e.key) == '+' &&\n          (e.keyLocation || e.location) == 3\n        ) && (\n          e.ctrlKey ? e.altKey ? 1 : 3 : e.shiftKey ? 2 : 4\n        ) || 9;\n      } catch(o_O) {}\n      eventType = 0 < initType ? 'KeyboardEvent' : 'Event';\n\n      function getModifier(init) {\n        for (var\n          out = [],\n          keys = [\n            'ctrlKey',\n            'Control',\n            'shiftKey',\n            'Shift',\n            'altKey',\n            'Alt',\n            'metaKey',\n            'Meta',\n            'altGraphKey',\n            'AltGraph'\n          ],\n          i = 0; i < keys.length; i += 2\n        ) {\n          if (init[keys[i]])\n            out.push(keys[i + 1]);\n        }\n        return out.join(' ');\n      }\n\n      function withDefaults(target, source) {\n        for (var key in source) {\n          if (\n            source.hasOwnProperty(key) &&\n            !source.hasOwnProperty.call(target, key)\n          ) target[key] = source[key];\n        }\n        return target;\n      }\n\n      function withInitValues(key, out, init) {\n        try {\n          out[key] = init[key];\n        } catch(o_O) {}\n      }\n\n      function KeyboardEvent(type, init) {\n        enoughArguments(arguments.length, 'KeyboardEvent');\n        init = withDefaults(init || {}, defaults);\n        var\n          out = document.createEvent(eventType),\n          ctrlKey = init.ctrlKey,\n          shiftKey = init.shiftKey,\n          altKey = init.altKey,\n          metaKey = init.metaKey,\n          altGraphKey = init.altGraphKey,\n          modifiers = initType > 3 ? getModifier(init) : null,\n          key = String(init.key),\n          chr = String(init.char),\n          location = init.location,\n          keyCode = init.keyCode || (\n            (init.keyCode = key) &&\n            key.charCodeAt(0)\n          ) || 0,\n          charCode = init.charCode || (\n            (init.charCode = chr) &&\n            chr.charCodeAt(0)\n          ) || 0,\n          bubbles = init.bubbles,\n          cancelable = init.cancelable,\n          repeat = init.repeat,\n          locale = init.locale,\n          view = init.view || window,\n          args\n        ;\n        if (!init.which) init.which = init.keyCode;\n        if ('initKeyEvent' in out) {\n          out.initKeyEvent(\n            type, bubbles, cancelable, view,\n            ctrlKey, altKey, shiftKey, metaKey, keyCode, charCode\n          );\n        } else if (0 < initType && 'initKeyboardEvent' in out) {\n          args = [type, bubbles, cancelable, view];\n          switch (initType) {\n            case 1:\n              args.push(key, location, ctrlKey, shiftKey, altKey, metaKey, altGraphKey);\n              break;\n            case 2:\n              args.push(ctrlKey, altKey, shiftKey, metaKey, keyCode, charCode);\n              break;\n            case 3:\n              args.push(key, location, ctrlKey, altKey, shiftKey, metaKey, altGraphKey);\n              break;\n            case 4:\n              args.push(key, location, modifiers, repeat, locale);\n              break;\n            default:\n              args.push(char, key, location, modifiers, repeat, locale);\n          }\n          out.initKeyboardEvent.apply(out, args);\n        } else {\n          out.initEvent(type, bubbles, cancelable);\n        }\n        for (key in out) {\n          if (defaults.hasOwnProperty(key) && out[key] !== init[key]) {\n            withInitValues(key, out, init);\n          }\n        }\n        return out;\n      }\n      KeyboardEvent.prototype = $KeyboardEvent.prototype;\n      return KeyboardEvent;\n    }(window.KeyboardEvent || function KeyboardEvent() {}));\n    defineProperty(window, 'KeyboardEvent', {value: o_O});\n    // Android 4 gotcha\n    if (KeyboardEvent !== o_O) KeyboardEvent = o_O;\n  }\n\n  // window.MouseEvent as constructor\n  try { new MouseEvent('_', {}); } catch (o_O) {\n    /* jshint -W022 */\n    o_O = (function ($MouseEvent) {\n      function MouseEvent(type, init) {\n        enoughArguments(arguments.length, 'MouseEvent');\n        var out = document.createEvent('MouseEvent');\n        if (!init) init = {};\n        out.initMouseEvent(\n          type,\n          !!init.bubbles,\n          !!init.cancelable,\n          init.view || window,\n          init.detail || 1,\n          init.screenX || 0,\n          init.screenY || 0,\n          init.clientX || 0,\n          init.clientY || 0,\n          !!init.ctrlKey,\n          !!init.altKey,\n          !!init.shiftKey,\n          !!init.metaKey,\n          init.button || 0,\n          init.relatedTarget || null\n        );\n        return out;\n      }\n      MouseEvent.prototype = $MouseEvent.prototype;\n      return MouseEvent;\n    }(window.MouseEvent || function MouseEvent() {}));\n    defineProperty(window, 'MouseEvent', {value: o_O});\n    // Android 4 gotcha\n    if (MouseEvent !== o_O) MouseEvent = o_O;\n  }\n\n  if (!document.querySelectorAll('*').forEach) {\n    (function () {\n      function patch(what) {\n        var querySelectorAll = what.querySelectorAll;\n        what.querySelectorAll = function qSA(css) {\n          var result = querySelectorAll.call(this, css);\n          result.forEach = Array.prototype.forEach;\n          return result;\n        };\n      }\n      patch(document);\n      patch(Element.prototype);\n    }());\n  }\n\n  try {\n    // https://drafts.csswg.org/selectors-4/#the-scope-pseudo\n    document.querySelector(':scope *');\n  } catch(o_O) {\n    (function () {\n      var dataScope = 'data-scope-' + (Math.random() * 1e9 >>> 0);\n      var proto = Element.prototype;\n      var querySelector = proto.querySelector;\n      var querySelectorAll = proto.querySelectorAll;\n      proto.querySelector = function qS(css) {\n        return find(this, querySelector, css);\n      };\n      proto.querySelectorAll = function qSA(css) {\n        return find(this, querySelectorAll, css);\n      };\n      function find(node, method, css) {\n        if (node.type != document.ELEMENT_NODE) return method.call(node, css);\n        node.setAttribute(dataScope, null);\n        var result = method.call(\n          node,\n          String(css).replace(\n            /(^|,\\s*)(:scope([ >]|$))/g,\n            function ($0, $1, $2, $3) {\n              return $1 + '[' + dataScope + ']' + ($3 || ' ');\n            }\n          )\n        );\n        node.removeAttribute(dataScope);\n        return result;\n      }\n    }());\n  }\n}(window));\n(function (global){'use strict';\n\n  // a WeakMap fallback for DOM nodes only used as key\n  var DOMMap = global.WeakMap || (function () {\n\n    var\n      counter = 0,\n      dispatched = false,\n      drop = false,\n      value\n    ;\n\n    function dispatch(key, ce, shouldDrop) {\n      drop = shouldDrop;\n      dispatched = false;\n      value = undefined;\n      key.dispatchEvent(ce);\n    }\n\n    function Handler(value) {\n      this.value = value;\n    }\n\n    Handler.prototype.handleEvent = function handleEvent(e) {\n      dispatched = true;\n      if (drop) {\n        e.currentTarget.removeEventListener(e.type, this, false);\n      } else {\n        value = this.value;\n      }\n    };\n\n    function DOMMap() {\n      counter++;  // make id clashing highly improbable\n      this.__ce__ = new Event(('@DOMMap:' + counter) + Math.random());\n    }\n\n    DOMMap.prototype = {\n      'constructor': DOMMap,\n      'delete': function del(key) {\n        return dispatch(key, this.__ce__, true), dispatched;\n      },\n      'get': function get(key) {\n        dispatch(key, this.__ce__, false);\n        var v = value;\n        value = undefined;\n        return v;\n      },\n      'has': function has(key) {\n        return dispatch(key, this.__ce__, false), dispatched;\n      },\n      'set': function set(key, value) {\n        dispatch(key, this.__ce__, true);\n        key.addEventListener(this.__ce__.type, new Handler(value), false);\n        return this;\n      },\n    };\n\n    return DOMMap;\n\n  }());\n\n  function Dict() {}\n  Dict.prototype = (Object.create || Object)(null);\n\n  // https://dom.spec.whatwg.org/#interface-eventtarget\n\n  function createEventListener(type, callback, options) {\n    function eventListener(e) {\n      if (eventListener.once) {\n        e.currentTarget.removeEventListener(\n          e.type,\n          callback,\n          eventListener\n        );\n        eventListener.removed = true;\n      }\n      if (eventListener.passive) {\n        e.preventDefault = createEventListener.preventDefault;\n      }\n      if (typeof eventListener.callback === 'function') {\n        /* jshint validthis: true */\n        eventListener.callback.call(this, e);\n      } else if (eventListener.callback) {\n        eventListener.callback.handleEvent(e);\n      }\n      if (eventListener.passive) {\n        delete e.preventDefault;\n      }\n    }\n    eventListener.type = type;\n    eventListener.callback = callback;\n    eventListener.capture = !!options.capture;\n    eventListener.passive = !!options.passive;\n    eventListener.once = !!options.once;\n    // currently pointless but specs say to use it, so ...\n    eventListener.removed = false;\n    return eventListener;\n  }\n\n  createEventListener.preventDefault = function preventDefault() {};\n\n  var\n    Event = global.CustomEvent,\n    dE = global.dispatchEvent,\n    aEL = global.addEventListener,\n    rEL = global.removeEventListener,\n    counter = 0,\n    increment = function () { counter++; },\n    indexOf = [].indexOf || function indexOf(value){\n      var length = this.length;\n      while(length--) {\n        if (this[length] === value) {\n          break;\n        }\n      }\n      return length;\n    },\n    getListenerKey = function (options) {\n      return ''.concat(\n        options.capture ? '1' : '0',\n        options.passive ? '1' : '0',\n        options.once ? '1' : '0'\n      );\n    },\n    augment\n  ;\n\n  try {\n    aEL('_', increment, {once: true});\n    dE(new Event('_'));\n    dE(new Event('_'));\n    rEL('_', increment, {once: true});\n  } catch(o_O) {}\n\n  if (counter !== 1) {\n    (function () {\n      var dm = new DOMMap();\n      function createAEL(aEL) {\n        return function addEventListener(type, handler, options) {\n          if (options && typeof options !== 'boolean') {\n            var\n              info = dm.get(this),\n              key = getListenerKey(options),\n              i, tmp, wrap\n            ;\n            if (!info) dm.set(this, (info = new Dict()));\n            if (!(type in info)) info[type] = {\n              handler: [],\n              wrap: []\n            };\n            tmp = info[type];\n            i = indexOf.call(tmp.handler, handler);\n            if (i < 0) {\n              i = tmp.handler.push(handler) - 1;\n              tmp.wrap[i] = (wrap = new Dict());\n            } else {\n              wrap = tmp.wrap[i];\n            }\n            if (!(key in wrap)) {\n              wrap[key] = createEventListener(type, handler, options);\n              aEL.call(this, type, wrap[key], wrap[key].capture);\n            }\n          } else {\n            aEL.call(this, type, handler, options);\n          }\n        };\n      }\n      function createREL(rEL) {\n        return function removeEventListener(type, handler, options) {\n          if (options && typeof options !== 'boolean') {\n            var\n              info = dm.get(this),\n              key, i, tmp, wrap\n            ;\n            if (info && (type in info)) {\n              tmp = info[type];\n              i = indexOf.call(tmp.handler, handler);\n              if (-1 < i) {\n                key = getListenerKey(options);\n                wrap = tmp.wrap[i];\n                if (key in wrap) {\n                  rEL.call(this, type, wrap[key], wrap[key].capture);\n                  delete wrap[key];\n                  // return if there are other wraps\n                  for (key in wrap) return;\n                  // otherwise remove all the things\n                  tmp.handler.splice(i, 1);\n                  tmp.wrap.splice(i, 1);\n                  // if there are no other handlers\n                  if (tmp.handler.length === 0)\n                    // drop the info[type] entirely\n                    delete info[type];\n                }\n              }\n            }\n          } else {\n            rEL.call(this, type, handler, options);\n          }\n        };\n      }\n\n      augment = function (Constructor) {\n        if (!Constructor) return;\n        var proto = Constructor.prototype;\n        proto.addEventListener = createAEL(proto.addEventListener);\n        proto.removeEventListener = createREL(proto.removeEventListener);\n      };\n\n      if (global.EventTarget) {\n        augment(EventTarget);\n      } else {\n        augment(global.Text);\n        augment(global.Element || global.HTMLElement);\n        augment(global.HTMLDocument);\n        augment(global.Window || {prototype:global});\n        augment(global.XMLHttpRequest);\n      }\n\n    }());\n  }\n\n}(self));\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nexport const Document_createElement = window.Document.prototype.createElement;\nexport const Document_createElementNS =\n  window.Document.prototype.createElementNS;\nexport const Document_importNode = window.Document.prototype.importNode;\n\nexport const Document_prepend = window.Document.prototype['prepend'];\nexport const Document_append = window.Document.prototype['append'];\nexport const DocumentFragment_prepend =\n  window.DocumentFragment.prototype['prepend'];\nexport const DocumentFragment_append =\n  window.DocumentFragment.prototype['append'];\nexport const Node_cloneNode = window.Node.prototype.cloneNode;\nexport const Node_appendChild = window.Node.prototype.appendChild;\nexport const Node_insertBefore = window.Node.prototype.insertBefore;\nexport const Node_removeChild = window.Node.prototype.removeChild;\nexport const Node_replaceChild = window.Node.prototype.replaceChild;\nexport const Node_textContent = Object.getOwnPropertyDescriptor(\n  window.Node.prototype,\n  'textContent'\n);\nexport const Element_attachShadow = window.Element.prototype['attachShadow'];\nexport const Element_innerHTML = Object.getOwnPropertyDescriptor(\n  window.Element.prototype,\n  'innerHTML'\n);\nexport const Element_getAttribute = window.Element.prototype.getAttribute;\nexport const Element_setAttribute = window.Element.prototype.setAttribute;\nexport const Element_removeAttribute = window.Element.prototype.removeAttribute;\nexport const Element_getAttributeNS = window.Element.prototype.getAttributeNS;\nexport const Element_setAttributeNS = window.Element.prototype.setAttributeNS;\nexport const Element_removeAttributeNS =\n  window.Element.prototype.removeAttributeNS;\nexport const Element_insertAdjacentElement =\n  window.Element.prototype['insertAdjacentElement'];\nexport const Element_insertAdjacentHTML =\n  window.Element.prototype['insertAdjacentHTML'];\nexport const Element_prepend = window.Element.prototype['prepend'];\nexport const Element_append = window.Element.prototype['append'];\nexport const Element_before = window.Element.prototype['before'];\nexport const Element_after = window.Element.prototype['after'];\nexport const Element_replaceWith = window.Element.prototype['replaceWith'];\nexport const Element_remove = window.Element.prototype['remove'];\nexport const HTMLElement = window.HTMLElement;\nexport const HTMLElement_innerHTML = Object.getOwnPropertyDescriptor(\n  window.HTMLElement.prototype,\n  'innerHTML'\n);\nexport const HTMLElement_insertAdjacentElement =\n  window.HTMLElement.prototype['insertAdjacentElement'];\nexport const HTMLElement_insertAdjacentHTML =\n  window.HTMLElement.prototype['insertAdjacentHTML'];\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nconst reservedElementNameSet = new Set<string>();\n// IE11 does not support constructing a set using an iterable.\n[\n  'annotation-xml',\n  'color-profile',\n  'font-face',\n  'font-face-src',\n  'font-face-uri',\n  'font-face-format',\n  'font-face-name',\n  'missing-glyph',\n].forEach((item) => reservedElementNameSet.add(item));\n\nexport function isValidCustomElementName(localName: string) {\n  const reserved = reservedElementNameSet.has(localName);\n  const validForm = /^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(localName);\n  return !reserved && validForm;\n}\n\n// Note, IE11 doesn't have `document.contains`.\nconst nativeContains = document.contains\n  ? document.contains.bind(document)\n  : document.documentElement.contains.bind(document.documentElement);\n\nexport function isConnected(node: Node) {\n  // Use `Node#isConnected`, if defined.\n  const nativeValue = node.isConnected;\n  if (nativeValue !== undefined) {\n    return nativeValue;\n  }\n  // Optimization: It's significantly faster here to try to use `contains`,\n  // especially on Edge/IE/\n  if (nativeContains(node)) {\n    return true;\n  }\n\n  let current: Node | undefined = node;\n  while (\n    current &&\n    !(current.__CE_isImportDocument || current instanceof Document)\n  ) {\n    current =\n      current.parentNode ||\n      (window.ShadowRoot && current instanceof ShadowRoot\n        ? current.host\n        : undefined);\n  }\n  return !!(\n    current &&\n    (current.__CE_isImportDocument || current instanceof Document)\n  );\n}\n\nexport function childrenFromFragment(\n  fragment: DocumentFragment\n): Array<Element> {\n  // Note, IE doesn't have `children` on document fragments.\n  const nativeChildren = fragment.children;\n  if (nativeChildren) {\n    return Array.prototype.slice.call(nativeChildren);\n  }\n  const children: Array<Element> = [];\n  for (let n = fragment.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType === Node.ELEMENT_NODE) {\n      children.push(n as Element);\n    }\n  }\n  return children;\n}\n\nfunction nextSiblingOrAncestorSibling(root: Node, start: Node) {\n  let node: Node | null = start;\n  while (node && node !== root && !node.nextSibling) {\n    node = node.parentNode;\n  }\n  return !node || node === root ? null : node.nextSibling;\n}\n\nfunction nextNode(root: Node, start: Node) {\n  return start.firstChild\n    ? start.firstChild\n    : nextSiblingOrAncestorSibling(root, start);\n}\n\nexport function walkDeepDescendantElements(\n  root: Node,\n  callback: (elem: Element) => void,\n  visitedImports?: Set<Node>\n) {\n  let node: Node | null = root;\n  while (node) {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      const element = node as Element;\n\n      callback(element);\n\n      const localName = element.localName;\n      if (localName === 'link' && element.getAttribute('rel') === 'import') {\n        // If this import (polyfilled or not) has its root node available,\n        // walk it.\n        const importNode = (element as HTMLLinkElement).import;\n        if (visitedImports === undefined) {\n          visitedImports = new Set();\n        }\n        if (importNode instanceof Node && !visitedImports.has(importNode)) {\n          // Prevent multiple walks of the same import root.\n          visitedImports.add(importNode);\n\n          for (\n            let child = importNode.firstChild;\n            child;\n            child = child.nextSibling\n          ) {\n            walkDeepDescendantElements(child, callback, visitedImports);\n          }\n        }\n\n        // Ignore descendants of import links to prevent attempting to walk the\n        // elements created by the HTML Imports polyfill that we just walked\n        // above.\n        node = nextSiblingOrAncestorSibling(root, element);\n        continue;\n      } else if (localName === 'template') {\n        // Ignore descendants of templates. There shouldn't be any descendants\n        // because they will be moved into `.content` during construction in\n        // browsers that support template but, in case they exist and are still\n        // waiting to be moved by a polyfill, they will be ignored.\n        node = nextSiblingOrAncestorSibling(root, element);\n        continue;\n      }\n\n      // Walk shadow roots.\n      const shadowRoot = element.__CE_shadowRoot;\n      if (shadowRoot) {\n        for (\n          let child = shadowRoot.firstChild;\n          child;\n          child = child.nextSibling\n        ) {\n          walkDeepDescendantElements(child, callback, visitedImports);\n        }\n      }\n    }\n\n    node = nextNode(root, node);\n  }\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport CustomElementRegistry from './CustomElementRegistry.js';\nimport {CustomElementState as CEState} from './CustomElementState.js';\nimport * as Native from './Patch/Native.js';\nimport * as Utilities from './Utilities.js';\n\nconst NS_HTML = 'http://www.w3.org/1999/xhtml';\n\nexport default class CustomElementInternals {\n  private readonly _patchesNode: Array<(node: Node) => void> = [];\n  private readonly _patchesElement: Array<(elem: Element) => void> = [];\n  private _hasPatches = false;\n  public readonly shadyDomFastWalk: boolean;\n  public readonly useDocumentConstructionObserver: boolean;\n\n  constructor(options: {\n    shadyDomFastWalk: boolean;\n    noDocumentConstructionObserver: boolean;\n  }) {\n    this.shadyDomFastWalk = options.shadyDomFastWalk;\n    this.useDocumentConstructionObserver = !options.noDocumentConstructionObserver;\n  }\n\n  forEachElement(\n    node: Node,\n    callback: (elem: Element) => void,\n    visitedImports?: Set<Node>\n  ) {\n    const sd = window['ShadyDOM'];\n    if (this.shadyDomFastWalk && sd && sd['inUse']) {\n      if (node.nodeType === Node.ELEMENT_NODE) {\n        const element = node as Element;\n        callback(element);\n      }\n      // most easily gets to document, element, documentFragment\n      if ((node as Element).querySelectorAll!) {\n        const elements = sd['nativeMethods'].querySelectorAll.call(node, '*');\n        for (let i = 0; i < elements.length; i++) {\n          callback(elements[i]);\n        }\n      }\n    } else {\n      Utilities.walkDeepDescendantElements(node, callback, visitedImports);\n    }\n  }\n\n  addNodePatch(patch: (node: Node) => void) {\n    this._hasPatches = true;\n    this._patchesNode.push(patch);\n  }\n\n  addElementPatch(patch: (element: Element) => void) {\n    this._hasPatches = true;\n    this._patchesElement.push(patch);\n  }\n\n  patchTree(node: Node) {\n    if (!this._hasPatches) {\n      return;\n    }\n\n    this.forEachElement(node, (element) => this.patchElement(element));\n  }\n\n  patchNode(node: Node) {\n    if (!this._hasPatches) {\n      return;\n    }\n\n    if (node.__CE_patched) {\n      return;\n    }\n    node.__CE_patched = true;\n\n    for (let i = 0; i < this._patchesNode.length; i++) {\n      this._patchesNode[i](node);\n    }\n  }\n\n  patchElement(element: Element) {\n    if (!this._hasPatches) {\n      return;\n    }\n\n    if (element.__CE_patched) {\n      return;\n    }\n    element.__CE_patched = true;\n\n    for (let i = 0; i < this._patchesNode.length; i++) {\n      this._patchesNode[i](element);\n    }\n\n    for (let i = 0; i < this._patchesElement.length; i++) {\n      this._patchesElement[i](element);\n    }\n  }\n\n  connectTree(root: Node) {\n    const elements: Array<Element> = [];\n\n    this.forEachElement(root, (element) => elements.push(element));\n\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if (element.__CE_state === CEState.custom) {\n        this.connectedCallback(element);\n      } else {\n        this.upgradeReaction(element as HTMLElement);\n      }\n    }\n  }\n\n  disconnectTree(root: Node) {\n    const elements: Array<Element> = [];\n\n    this.forEachElement(root, (element) => elements.push(element));\n\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if (element.__CE_state === CEState.custom) {\n        this.disconnectedCallback(element);\n      }\n    }\n  }\n\n  /**\n   * Upgrades all uncustomized custom elements at and below a root node for\n   * which there is a definition. When custom element reaction callbacks are\n   * assumed to be called synchronously (which, by the current DOM / HTML spec\n   * definitions, they are *not*), callbacks for both elements customized\n   * synchronously by the parser and elements being upgraded occur in the same\n   * relative order.\n   *\n   * NOTE: This function, when used to simulate the construction of a tree\n   * that is already created but not customized (i.e. by the parser), does\n   * *not* prevent the element from reading the 'final' (true) state of the\n   * tree. For example, the element, during truly synchronous parsing /\n   * construction would see that it contains no children as they have not yet\n   * been inserted. However, this function does not modify the tree, the\n   * element will (incorrectly) have children. Additionally, self-modification\n   * restrictions for custom element constructors imposed by the DOM spec are\n   * *not* enforced.\n   *\n   *\n   * The following nested list shows the steps extending down from the HTML\n   * spec's parsing section that cause elements to be synchronously created\n   * and upgraded:\n   *\n   * The \"in body\" insertion mode:\n   * https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inbody\n   * - Switch on token:\n   *   .. other cases ..\n   *   -> Any other start tag\n   *      - [Insert an HTML element](below) for the token.\n   *\n   * Insert an HTML element:\n   * https://html.spec.whatwg.org/multipage/syntax.html#insert-an-html-element\n   * - Insert a foreign element for the token in the HTML namespace:\n   *   https://html.spec.whatwg.org/multipage/syntax.html#insert-a-foreign-element\n   *   - Create an element for a token:\n   *     https://html.spec.whatwg.org/multipage/syntax.html#create-an-element-for-the-token\n   *     - Will execute script flag is true?\n   *       - (Element queue pushed to the custom element reactions stack.)\n   *     - Create an element:\n   *       https://dom.spec.whatwg.org/#concept-create-element\n   *       - Sync CE flag is true?\n   *         - Constructor called.\n   *         - Self-modification restrictions enforced.\n   *       - Sync CE flag is false?\n   *         - (Upgrade reaction enqueued.)\n   *     - Attributes appended to element.\n   *       (`attributeChangedCallback` reactions enqueued.)\n   *     - Will execute script flag is true?\n   *       - (Element queue popped from the custom element reactions stack.\n   *         Reactions in the popped stack are invoked.)\n   *   - (Element queue pushed to the custom element reactions stack.)\n   *   - Insert the element:\n   *     https://dom.spec.whatwg.org/#concept-node-insert\n   *     - Shadow-including descendants are connected. During parsing\n   *       construction, there are no shadow-*excluding* descendants.\n   *       However, the constructor may have validly attached a shadow\n   *       tree to itself and added descendants to that shadow tree.\n   *       (`connectedCallback` reactions enqueued.)\n   *   - (Element queue popped from the custom element reactions stack.\n   *     Reactions in the popped stack are invoked.)\n   */\n  patchAndUpgradeTree(\n    root: Node,\n    options: {\n      visitedImports?: Set<Node>;\n      upgrade?: (elem: HTMLElement) => void;\n    } = {}\n  ) {\n    const visitedImports = options.visitedImports;\n    const upgrade =\n      options.upgrade || ((element) => this.upgradeReaction(element));\n\n    const elements: Array<Element> = [];\n\n    const gatherElements = (element: Element) => {\n      if (this._hasPatches) {\n        this.patchElement(element);\n      }\n      if (\n        element.localName === 'link' &&\n        element.getAttribute('rel') === 'import'\n      ) {\n        const importElem = element as HTMLLinkElement;\n        // The HTML Imports polyfill sets a descendant element of the link to\n        // the `import` property, specifically this is *not* a Document.\n        const importNode = importElem.import;\n\n        if (importNode instanceof Node) {\n          importNode.__CE_isImportDocument = true;\n          // Connected links are associated with the global registry.\n          importNode.__CE_registry = document.__CE_registry;\n        }\n\n        if (importNode && importNode.readyState === 'complete') {\n          importNode.__CE_documentLoadHandled = true;\n        } else {\n          // If this link's import root is not available, its contents can't\n          // be walked. Wait for 'load' and walk it when it's ready.\n          element.addEventListener('load', () => {\n            const importNode = importElem.import!;\n\n            if (importNode.__CE_documentLoadHandled) {\n              return;\n            }\n            importNode.__CE_documentLoadHandled = true;\n\n            // Clone the `visitedImports` set that was populated sync during\n            // the `patchAndUpgradeTree` call that caused this 'load' handler\n            // to be added. Then, remove *this* link's import node so that we\n            // can walk that import again, even if it was partially walked\n            // later during the same `patchAndUpgradeTree` call.\n            const clonedVisitedImports = new Set<Node>();\n            if (visitedImports) {\n              // IE11 does not support constructing a set using an iterable.\n              visitedImports.forEach((item) => clonedVisitedImports.add(item));\n              clonedVisitedImports.delete(importNode);\n            }\n            this.patchAndUpgradeTree(importNode, {\n              visitedImports: clonedVisitedImports,\n              upgrade,\n            });\n          });\n        }\n      } else {\n        elements.push(element);\n      }\n    };\n\n    // `forEachElement` populates (and internally checks against)\n    // `visitedImports` when traversing a loaded import.\n    this.forEachElement(root, gatherElements, visitedImports);\n\n    for (let i = 0; i < elements.length; i++) {\n      upgrade(elements[i] as HTMLElement);\n    }\n  }\n\n  upgradeReaction(element: HTMLElement) {\n    try {\n      const definition = this._lookupACustomElementDefinition(\n        element.ownerDocument!,\n        element.localName\n      );\n      if (definition) {\n        this._upgradeAnElement(element, definition);\n      }\n    } catch (e) {\n      this.reportTheException(e);\n    }\n  }\n\n  /**\n   * @see https://html.spec.whatwg.org/multipage/custom-elements.html#concept-upgrade-an-element\n   */\n  private _upgradeAnElement(\n    element: HTMLElement,\n    definition: CustomElementDefinition\n  ) {\n    const currentState = element.__CE_state;\n    if (currentState !== undefined) {\n      return;\n    }\n\n    definition.constructionStack.push(element);\n\n    try {\n      try {\n        const result = new definition.constructorFunction();\n        if (result !== element) {\n          throw new Error(\n            'The custom element constructor did not produce the element being upgraded.'\n          );\n        }\n      } finally {\n        definition.constructionStack.pop();\n      }\n    } catch (e) {\n      element.__CE_state = CEState.failed;\n      throw e;\n    }\n\n    element.__CE_state = CEState.custom;\n    element.__CE_definition = definition;\n\n    // Check `hasAttributes` here to avoid iterating when it's not necessary.\n    if (definition.attributeChangedCallback && element.hasAttributes()) {\n      const observedAttributes = definition.observedAttributes;\n      for (let i = 0; i < observedAttributes.length; i++) {\n        const name = observedAttributes[i];\n        const value = element.getAttribute(name);\n        if (value !== null) {\n          this.attributeChangedCallback(element, name, null, value, null);\n        }\n      }\n    }\n\n    if (Utilities.isConnected(element)) {\n      this.connectedCallback(element);\n    }\n  }\n\n  connectedCallback(element: Element) {\n    const definition = element.__CE_definition!;\n    if (definition.connectedCallback) {\n      try {\n        definition.connectedCallback.call(element);\n      } catch (e) {\n        this.reportTheException(e);\n      }\n    }\n  }\n\n  disconnectedCallback(element: Element) {\n    const definition = element.__CE_definition!;\n    if (definition.disconnectedCallback) {\n      try {\n        definition.disconnectedCallback.call(element);\n      } catch (e) {\n        this.reportTheException(e);\n      }\n    }\n  }\n\n  attributeChangedCallback(\n    element: Element,\n    name: string,\n    oldValue?: string | null,\n    newValue?: string | null,\n    namespace?: string | null\n  ) {\n    const definition = element.__CE_definition!;\n    if (\n      definition.attributeChangedCallback &&\n      definition.observedAttributes.indexOf(name) > -1\n    ) {\n      try {\n        definition.attributeChangedCallback.call(\n          element,\n          name,\n          oldValue,\n          newValue,\n          namespace\n        );\n      } catch (e) {\n        this.reportTheException(e);\n      }\n    }\n  }\n\n  /**\n   * Runs HTML's 'look up a custom element definition', excluding the namespace\n   * check.\n   *\n   * @see https://html.spec.whatwg.org/multipage/custom-elements.html#look-up-a-custom-element-definition\n   */\n  private _lookupACustomElementDefinition(\n    doc: Document,\n    localName: string\n  ): CustomElementDefinition | undefined {\n    // The document must be associated with a registry.\n    const registry = doc.__CE_registry;\n    if (!registry) {\n      return;\n    }\n\n    // Prevent elements created in documents without a browsing context from\n    // upgrading.\n    //\n    // https://html.spec.whatwg.org/multipage/custom-elements.html#look-up-a-custom-element-definition\n    //   \"If document does not have a browsing context, return null.\"\n    //\n    // https://html.spec.whatwg.org/multipage/window-object.html#dom-document-defaultview\n    //   \"The defaultView IDL attribute of the Document interface, on getting,\n    //   must return this Document's browsing context's WindowProxy object, if\n    //   this Document has an associated browsing context, or null otherwise.\"\n    if (!doc.defaultView && !doc.__CE_isImportDocument) {\n      return;\n    }\n\n    return (registry as CustomElementRegistry).internal_localNameToDefinition(\n      localName\n    );\n  }\n\n  /**\n   * Runs the DOM's 'create an element'. If namespace is not null, then the\n   * native `createElementNS` is used. Otherwise, `createElement` is used.\n   *\n   * Note, the template polyfill only wraps `createElement`, preventing this\n   * function from using `createElementNS` in all cases.\n   *\n   * @see https://dom.spec.whatwg.org/#concept-create-element\n   */\n  createAnElement(\n    doc: Document,\n    localName: string,\n    namespace: string | null\n  ): Element {\n    const registry = doc.__CE_registry;\n    // Only create custom elements if the document is associated with a\n    // registry.\n    if (registry && (namespace === null || namespace === NS_HTML)) {\n      const definition = (registry as CustomElementRegistry).internal_localNameToDefinition(\n        localName\n      );\n      if (definition) {\n        try {\n          const result = new definition.constructorFunction();\n\n          // These conformance checks can't be performed when the user calls\n          // the element's constructor themselves. However, this also true in\n          // native implementations.\n\n          if (\n            result.__CE_state === undefined ||\n            result.__CE_definition === undefined\n          ) {\n            throw new Error(\n              `Failed to construct '${localName}': ` +\n                'The returned value was not constructed with the HTMLElement ' +\n                'constructor.'\n            );\n          }\n\n          if (result.namespaceURI !== NS_HTML) {\n            throw new Error(\n              `Failed to construct '${localName}': ` +\n                \"The constructed element's namespace must be the HTML \" +\n                'namespace.'\n            );\n          }\n\n          // The following Errors should be DOMExceptions but DOMException\n          // isn't constructible in all browsers.\n\n          if (result.hasAttributes()) {\n            throw new Error(\n              `Failed to construct '${localName}': ` +\n                'The constructed element must not have any attributes.'\n            );\n          }\n\n          // ShadyDOM doesn't wrap `#hasChildNodes`, so we check `#firstChild`\n          // instead.\n          if (result.firstChild !== null) {\n            throw new Error(\n              `Failed to construct '${localName}': ` +\n                'The constructed element must not have any children.'\n            );\n          }\n\n          if (result.parentNode !== null) {\n            throw new Error(\n              `Failed to construct '${localName}': ` +\n                'The constructed element must not have a parent node.'\n            );\n          }\n\n          if (result.ownerDocument !== doc) {\n            throw new Error(\n              `Failed to construct '${localName}': ` +\n                \"The constructed element's owner document is incorrect.\"\n            );\n          }\n\n          if (result.localName !== localName) {\n            throw new Error(\n              `Failed to construct '${localName}': ` +\n                \"The constructed element's local name is incorrect.\"\n            );\n          }\n\n          return result;\n        } catch (e) {\n          this.reportTheException(e);\n\n          // When construction fails, a new HTMLUnknownElement is produced.\n          // However, there's no direct way to create one, so we create a\n          // regular HTMLElement and replace its prototype.\n          const result =\n            namespace === null\n              ? Native.Document_createElement.call(doc, localName)\n              : Native.Document_createElementNS.call(doc, namespace, localName);\n          Object.setPrototypeOf(result, HTMLUnknownElement.prototype);\n          result.__CE_state = CEState.failed;\n          result.__CE_definition = undefined;\n          this.patchElement(result);\n          return result;\n        }\n      }\n    }\n\n    const result =\n      namespace === null\n        ? Native.Document_createElement.call(doc, localName)\n        : Native.Document_createElementNS.call(doc, namespace, localName);\n    this.patchElement(result);\n    return result;\n  }\n\n  /**\n   * Runs the DOM's 'report the exception' algorithm.\n   *\n   * @see https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception\n   */\n  reportTheException(errorArg: Error) {\n    interface ExtendedError extends Error {\n      // Non-standard Safari properties.\n      sourceURL?: string;\n      line?: number;\n      column?: number;\n\n      // Non-standard Firefox properties.\n      fileName?: string;\n      lineNumber?: number;\n      columnNumber?: number;\n    }\n\n    const error = errorArg as ExtendedError;\n    const message = error.message;\n    const filename = error.sourceURL || error.fileName || '';\n    const lineno = error.line || error.lineNumber || 0;\n    const colno = error.column || error.columnNumber || 0;\n\n    let event: ErrorEvent | undefined = undefined;\n    if (ErrorEvent.prototype.initErrorEvent === undefined) {\n      event = new ErrorEvent('error', {\n        cancelable: true,\n        message,\n        filename,\n        lineno,\n        colno,\n        error,\n      });\n    } else {\n      event = document.createEvent('ErrorEvent') as ErrorEvent;\n      // initErrorEvent(type, bubbles, cancelable, message, filename, line)\n      event.initErrorEvent!('error', false, true, message, filename, lineno);\n      // Hack for IE, where ErrorEvent#preventDefault does not set\n      // #defaultPrevented to true.\n      event.preventDefault = function (this: ErrorEvent) {\n        Object.defineProperty(this, 'defaultPrevented', {\n          configurable: true,\n          get: function (this: ErrorEvent) {\n            return true;\n          },\n        });\n      };\n    }\n\n    if (event.error === undefined) {\n      Object.defineProperty(event, 'error', {\n        configurable: true,\n        enumerable: true,\n        get: function () {\n          return error;\n        },\n      });\n    }\n\n    window.dispatchEvent(event);\n    if (!event.defaultPrevented) {\n      // In 'report the exception', UAs may optionally write errors to the\n      // console if their associated ErrorEvent isn't handled during dispatch\n      // (indicated by calling `preventDefault`). In practice, these errors are\n      // always displayed.\n      console.error(error);\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport CustomElementInternals from './CustomElementInternals.js';\nimport CustomElementRegistry from './CustomElementRegistry.js';\nimport PatchDocument from './Patch/Document.js';\nimport PatchDocumentFragment from './Patch/DocumentFragment.js';\nimport PatchElement from './Patch/Element.js';\nimport PatchHTMLElement from './Patch/HTMLElement.js';\nimport PatchNode from './Patch/Node.js';\n\nconst priorCustomElements = window['customElements'];\n\nfunction installPolyfill() {\n  const noDocumentConstructionObserver = !!priorCustomElements?.[\n    'noDocumentConstructionObserver'\n  ];\n  const shadyDomFastWalk = !!priorCustomElements?.['shadyDomFastWalk'];\n\n  const internals = new CustomElementInternals({\n    noDocumentConstructionObserver,\n    shadyDomFastWalk,\n  });\n\n  PatchHTMLElement(internals);\n  PatchDocument(internals);\n  PatchDocumentFragment(internals);\n  PatchNode(internals);\n  PatchElement(internals);\n\n  const customElements = new CustomElementRegistry(internals);\n\n  // The main document is associated with the global registry.\n  document.__CE_registry = customElements;\n\n  Object.defineProperty(window, 'customElements', {\n    configurable: true,\n    enumerable: true,\n    value: customElements,\n  });\n}\n\nif (\n  !priorCustomElements ||\n  priorCustomElements['forcePolyfill'] ||\n  typeof priorCustomElements['define'] != 'function' ||\n  typeof priorCustomElements['get'] != 'function'\n) {\n  installPolyfill();\n}\n\n// This is NOT public API and is only meant to work around a GC bug in older\n// versions of Safari that randomly removes the polyfill during tests.\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n(window as any)['__CE_installPolyfill'] = installPolyfill;\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nexport const CustomElementState = {\n  custom: 1,\n  failed: 2,\n} as const;\nexport type CustomElementState =\n  | typeof CustomElementState.custom\n  | typeof CustomElementState.failed;\n\nexport default CustomElementState;\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nexport default class Deferred<T> {\n  private _value: T | undefined = undefined;\n\n  private _resolve!: (val: T) => void;\n\n  private readonly _promise: Promise<T>;\n  constructor() {\n    this._promise = new Promise((resolve) => {\n      this._resolve = resolve;\n    });\n  }\n\n  resolve(value: T) {\n    if (this._value) {\n      throw new Error('Already resolved.');\n    }\n\n    this._value = value;\n    this._resolve(value);\n  }\n\n  toPromise() {\n    return this._promise;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport CustomElementInternals from './CustomElementInternals.js';\n\nexport default class DocumentConstructionObserver {\n  private readonly _internals: CustomElementInternals;\n  private readonly _document: Document;\n  private _observer: MutationObserver | undefined = undefined;\n  constructor(internals: CustomElementInternals, doc: Document) {\n    this._internals = internals;\n    this._document = doc;\n\n    // Simulate tree construction for all currently accessible nodes in the\n    // document.\n    this._internals.patchAndUpgradeTree(this._document);\n\n    if (this._document.readyState === 'loading') {\n      this._observer = new MutationObserver(this._handleMutations.bind(this));\n\n      // Nodes created by the parser are given to the observer *before* the next\n      // task runs. Inline scripts are run in a new task. This means that the\n      // observer will be able to handle the newly parsed nodes before the\n      // inline script is run.\n      this._observer.observe(this._document, {\n        childList: true,\n        subtree: true,\n      });\n    }\n  }\n\n  disconnect() {\n    if (this._observer) {\n      this._observer.disconnect();\n    }\n  }\n\n  private _handleMutations(mutations: ReadonlyArray<MutationRecord>) {\n    // Once the document's `readyState` is 'interactive' or 'complete', all new\n    // nodes created within that document will be the result of script and\n    // should be handled by patching.\n    const readyState = this._document.readyState;\n    if (readyState === 'interactive' || readyState === 'complete') {\n      this.disconnect();\n    }\n\n    for (let i = 0; i < mutations.length; i++) {\n      const addedNodes = mutations[i].addedNodes;\n      for (let j = 0; j < addedNodes.length; j++) {\n        const node = addedNodes[j];\n        this._internals.patchAndUpgradeTree(node);\n      }\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport {AlreadyConstructedMarkerType} from './AlreadyConstructedMarker.js';\nimport CustomElementInternals from './CustomElementInternals.js';\nimport Deferred from './Deferred.js';\nimport DocumentConstructionObserver from './DocumentConstructionObserver.js';\nimport * as Utilities from './Utilities.js';\n\ninterface ElementConstructor {\n  new (): HTMLElement;\n  observedAttributes?: Array<string>;\n}\ntype ConstructorGetter = () => ElementConstructor;\n\n/**\n * @unrestricted\n */\nexport default class CustomElementRegistry {\n  private readonly _localNameToConstructorGetter = new Map<\n    string,\n    ConstructorGetter\n  >();\n  private readonly _localNameToDefinition = new Map<\n    string,\n    CustomElementDefinition\n  >();\n  private readonly _constructorToDefinition = new Map<\n    ElementConstructor,\n    CustomElementDefinition\n  >();\n  private _elementDefinitionIsRunning = false;\n  private readonly _internals: CustomElementInternals;\n  private readonly _whenDefinedDeferred = new Map<\n    string,\n    Deferred<undefined>\n  >();\n\n  /**\n   * The default flush callback triggers the document walk synchronously.\n   */\n  private _flushCallback: (fn: () => void) => void = (fn) => fn();\n  private _flushPending = false;\n\n  /**\n   * A map from `localName`s of definitions that were defined *after* the\n   * last flush to unupgraded elements matching that definition, in document\n   * order. Entries are added to this map when a definition is registered,\n   * but the list of elements is only populated during a flush after which\n   * all of the entries are removed. DO NOT edit outside of `#_flush`.\n   */\n  private readonly _unflushedLocalNames: Array<string> = [];\n\n  private readonly _documentConstructionObserver:\n    | DocumentConstructionObserver\n    | undefined;\n\n  constructor(internals: CustomElementInternals) {\n    this._internals = internals;\n    this._documentConstructionObserver = internals.useDocumentConstructionObserver\n      ? new DocumentConstructionObserver(internals, document)\n      : undefined;\n  }\n\n  polyfillDefineLazy(localName: string, constructorGetter: ConstructorGetter) {\n    if (!(constructorGetter instanceof Function)) {\n      throw new TypeError(\n        'Custom element constructor getters must be functions.'\n      );\n    }\n    this.internal_assertCanDefineLocalName(localName);\n    this._localNameToConstructorGetter.set(localName, constructorGetter);\n    this._unflushedLocalNames.push(localName);\n    // If we've already called the flush callback and it hasn't called back\n    // yet, don't call it again.\n    if (!this._flushPending) {\n      this._flushPending = true;\n      this._flushCallback(() => this._flush());\n    }\n  }\n\n  define(localName: string, constructor: Function) {\n    if (!(constructor instanceof Function)) {\n      throw new TypeError('Custom element constructors must be functions.');\n    }\n\n    this.internal_assertCanDefineLocalName(localName);\n\n    this.internal_reifyDefinition(localName, constructor as ElementConstructor);\n    this._unflushedLocalNames.push(localName);\n    // If we've already called the flush callback and it hasn't called back\n    // yet, don't call it again.\n    if (!this._flushPending) {\n      this._flushPending = true;\n      this._flushCallback(() => this._flush());\n    }\n  }\n\n  internal_assertCanDefineLocalName(localName: string) {\n    if (!Utilities.isValidCustomElementName(localName)) {\n      throw new SyntaxError(`The element name '${localName}' is not valid.`);\n    }\n\n    if (this.internal_localNameToDefinition(localName)) {\n      throw new Error(\n        `A custom element with name ` +\n          `'${localName}' has already been defined.`\n      );\n    }\n\n    if (this._elementDefinitionIsRunning) {\n      throw new Error('A custom element is already being defined.');\n    }\n  }\n\n  internal_reifyDefinition(localName: string, constructor: ElementConstructor) {\n    this._elementDefinitionIsRunning = true;\n\n    let connectedCallback: CustomElementDefinition['connectedCallback'];\n    let disconnectedCallback: CustomElementDefinition['disconnectedCallback'];\n    let adoptedCallback: CustomElementDefinition['adoptedCallback'];\n    let attributeChangedCallback: CustomElementDefinition['attributeChangedCallback'];\n    let observedAttributes: CustomElementDefinition['observedAttributes'];\n    try {\n      const prototype = constructor.prototype;\n      if (!(prototype instanceof Object)) {\n        throw new TypeError(\n          \"The custom element constructor's prototype is not an object.\"\n        );\n      }\n\n      type CEReactionCallback =\n        | 'connectedCallback'\n        | 'disconnectedCallback'\n        | 'adoptedCallback'\n        | 'attributeChangedCallback';\n      const getCallback = function getCallback(name: CEReactionCallback) {\n        const callbackValue = prototype[name];\n        if (\n          callbackValue !== undefined &&\n          !(callbackValue instanceof Function)\n        ) {\n          throw new Error(`The '${name}' callback must be a function.`);\n        }\n        return callbackValue;\n      };\n\n      connectedCallback = getCallback('connectedCallback');\n      disconnectedCallback = getCallback('disconnectedCallback');\n      adoptedCallback = getCallback('adoptedCallback');\n      attributeChangedCallback = getCallback('attributeChangedCallback');\n      // `observedAttributes` should not be read unless an\n      // `attributesChangedCallback` exists\n      observedAttributes =\n        (attributeChangedCallback && constructor['observedAttributes']) || [];\n      // eslint-disable-next-line no-useless-catch\n    } catch (e) {\n      throw e;\n    } finally {\n      this._elementDefinitionIsRunning = false;\n    }\n\n    const definition = {\n      localName,\n      constructorFunction: constructor,\n      connectedCallback,\n      disconnectedCallback,\n      adoptedCallback,\n      attributeChangedCallback,\n      observedAttributes,\n      constructionStack: [] as Array<\n        HTMLElement | AlreadyConstructedMarkerType\n      >,\n    };\n\n    this._localNameToDefinition.set(localName, definition);\n    this._constructorToDefinition.set(\n      definition.constructorFunction,\n      definition\n    );\n\n    return definition;\n  }\n\n  upgrade(node: Node): void {\n    this._internals.patchAndUpgradeTree(node);\n  }\n\n  private _flush() {\n    // If no new definitions were defined, don't attempt to flush. This could\n    // happen if a flush callback keeps the function it is given and calls it\n    // multiple times.\n    if (this._flushPending === false) {\n      return;\n    }\n    this._flushPending = false;\n\n    /**\n     * Unupgraded elements with definitions that were defined *before* the last\n     * flush, in document order.\n     */\n    const elementsWithStableDefinitions: Array<HTMLElement> = [];\n\n    const unflushedLocalNames = this._unflushedLocalNames;\n    const elementsWithPendingDefinitions = new Map<\n      string,\n      Array<HTMLElement>\n    >();\n    for (let i = 0; i < unflushedLocalNames.length; i++) {\n      elementsWithPendingDefinitions.set(unflushedLocalNames[i], []);\n    }\n\n    this._internals.patchAndUpgradeTree(document, {\n      upgrade: (element) => {\n        // Ignore the element if it has already upgraded or failed to upgrade.\n        if (element.__CE_state !== undefined) {\n          return;\n        }\n\n        const localName = element.localName;\n\n        // If there is an applicable pending definition for the element, add the\n        // element to the list of elements to be upgraded with that definition.\n        const pendingElements = elementsWithPendingDefinitions.get(localName);\n        if (pendingElements) {\n          pendingElements.push(element);\n          // If there is *any other* applicable definition for the element, add\n          // it to the list of elements with stable definitions that need to be\n          // upgraded.\n        } else if (this._localNameToDefinition.has(localName)) {\n          elementsWithStableDefinitions.push(element);\n        }\n      },\n    });\n\n    // Upgrade elements with 'stable' definitions first.\n    for (let i = 0; i < elementsWithStableDefinitions.length; i++) {\n      this._internals.upgradeReaction(elementsWithStableDefinitions[i]);\n    }\n\n    // Upgrade elements with 'pending' definitions in the order they were\n    // defined.\n    for (let i = 0; i < unflushedLocalNames.length; i++) {\n      const localName = unflushedLocalNames[i];\n      const pendingUpgradableElements = elementsWithPendingDefinitions.get(\n        localName\n      )!;\n\n      // Attempt to upgrade all applicable elements.\n      for (let i = 0; i < pendingUpgradableElements.length; i++) {\n        this._internals.upgradeReaction(pendingUpgradableElements[i]);\n      }\n\n      // Resolve any promises created by `whenDefined` for the definition.\n      const deferred = this._whenDefinedDeferred.get(localName);\n      if (deferred) {\n        deferred.resolve(undefined);\n      }\n    }\n\n    unflushedLocalNames.length = 0;\n  }\n\n  get(localName: string): undefined | {new (): HTMLElement} {\n    const definition = this.internal_localNameToDefinition(localName);\n    if (definition) {\n      return definition.constructorFunction;\n    }\n\n    return undefined;\n  }\n\n  whenDefined(localName: string): Promise<void> {\n    if (!Utilities.isValidCustomElementName(localName)) {\n      return Promise.reject(\n        new SyntaxError(`'${localName}' is not a valid custom element name.`)\n      );\n    }\n\n    const prior = this._whenDefinedDeferred.get(localName);\n    if (prior) {\n      return prior.toPromise();\n    }\n\n    const deferred = new Deferred<undefined>();\n    this._whenDefinedDeferred.set(localName, deferred);\n\n    // Resolve immediately if the given local name has a regular or lazy\n    // definition *and* the full document walk to upgrade elements with that\n    // local name has already happened.\n    //\n    // The behavior of the returned promise differs between the lazy and the\n    // non-lazy cases if the definition fails. Normally, the definition would\n    // fail synchronously and no pending promises would resolve. However, if\n    // the definition is lazy but has not yet been reified, the promise is\n    // resolved early here even though it might fail later when reified.\n    const anyDefinitionExists =\n      this._localNameToDefinition.has(localName) ||\n      this._localNameToConstructorGetter.has(localName);\n    const definitionHasFlushed =\n      this._unflushedLocalNames.indexOf(localName) === -1;\n    if (anyDefinitionExists && definitionHasFlushed) {\n      deferred.resolve(undefined);\n    }\n\n    return deferred.toPromise();\n  }\n\n  polyfillWrapFlushCallback(outer: (fn: () => void) => void) {\n    if (this._documentConstructionObserver) {\n      this._documentConstructionObserver.disconnect();\n    }\n    const inner = this._flushCallback;\n    this._flushCallback = (flush) => outer(() => inner(flush));\n  }\n\n  internal_localNameToDefinition(\n    localName: string\n  ): CustomElementDefinition | undefined {\n    const existingDefinition = this._localNameToDefinition.get(localName);\n    if (existingDefinition) {\n      return existingDefinition;\n    }\n\n    const constructorGetter = this._localNameToConstructorGetter.get(localName);\n    if (constructorGetter) {\n      this._localNameToConstructorGetter.delete(localName);\n      try {\n        return this.internal_reifyDefinition(localName, constructorGetter());\n      } catch (e) {\n        this._internals.reportTheException(e);\n      }\n    }\n\n    return undefined;\n  }\n\n  internal_constructorToDefinition(\n    constructor: ElementConstructor\n  ): CustomElementDefinition | undefined {\n    return this._constructorToDefinition.get(constructor);\n  }\n}\n\n// Closure compiler exports.\nwindow[\n  'CustomElementRegistry'\n] = (CustomElementRegistry as unknown) as typeof window['CustomElementRegistry'];\n/* eslint-disable no-self-assign */\nCustomElementRegistry.prototype['define'] =\n  CustomElementRegistry.prototype.define;\nCustomElementRegistry.prototype['upgrade'] =\n  CustomElementRegistry.prototype.upgrade;\nCustomElementRegistry.prototype['get'] = CustomElementRegistry.prototype.get;\nCustomElementRegistry.prototype['whenDefined'] =\n  CustomElementRegistry.prototype.whenDefined;\nCustomElementRegistry.prototype['polyfillDefineLazy'] =\n  CustomElementRegistry.prototype.polyfillDefineLazy;\nCustomElementRegistry.prototype['polyfillWrapFlushCallback'] =\n  CustomElementRegistry.prototype.polyfillWrapFlushCallback;\n/* eslint-enable no-self-assign */\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport CustomElementInternals from '../../CustomElementInternals.js';\nimport * as Utilities from '../../Utilities.js';\n\ntype NativeMethod = (this: Node, ...args: Array<Node | string>) => void;\n\ninterface ParentNodeNativeMethods {\n  prepend: NativeMethod;\n  append: NativeMethod;\n}\n\nexport default function (\n  internals: CustomElementInternals,\n  destination: ParentNode,\n  builtIn: ParentNodeNativeMethods\n) {\n  function appendPrependPatch(builtInMethod: NativeMethod): NativeMethod {\n    return function (this: Node, ...nodes) {\n      /**\n       * A copy of `nodes`, with any DocumentFragment replaced by its children.\n       */\n      const flattenedNodes: Array<Node | string> = [];\n\n      /**\n       * Elements in `nodes` that were connected before this call.\n       */\n      const connectedElements: Array<Node> = [];\n\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n\n        if (node instanceof Element && Utilities.isConnected(node)) {\n          connectedElements.push(node);\n        }\n\n        if (node instanceof DocumentFragment) {\n          for (let child = node.firstChild; child; child = child.nextSibling) {\n            flattenedNodes.push(child);\n          }\n        } else {\n          flattenedNodes.push(node);\n        }\n      }\n\n      builtInMethod.apply(this, nodes);\n\n      for (let i = 0; i < connectedElements.length; i++) {\n        internals.disconnectTree(connectedElements[i]);\n      }\n\n      if (Utilities.isConnected(this)) {\n        for (let i = 0; i < flattenedNodes.length; i++) {\n          const node = flattenedNodes[i];\n          if (node instanceof Element) {\n            internals.connectTree(node);\n          }\n        }\n      }\n    };\n  }\n\n  if (builtIn.prepend !== undefined) {\n    destination.prepend = appendPrependPatch(builtIn.prepend);\n  }\n\n  if (builtIn.append !== undefined) {\n    destination.append = appendPrependPatch(builtIn.append);\n  }\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport CustomElementInternals from '../CustomElementInternals.js';\nimport CEState from '../CustomElementState.js';\nimport * as Utilities from '../Utilities.js';\n\nimport PatchChildNode from './Interface/ChildNode.js';\nimport PatchParentNode from './Interface/ParentNode.js';\nimport * as Native from './Native.js';\n\nexport default function (internals: CustomElementInternals) {\n  if (Native.Element_attachShadow) {\n    Element.prototype.attachShadow = function (\n      this: Element,\n      init: ShadowRootInit\n    ) {\n      const shadowRoot = Native.Element_attachShadow.call(this, init);\n      internals.patchNode(shadowRoot);\n      this.__CE_shadowRoot = shadowRoot;\n      return shadowRoot;\n    };\n  }\n\n  function patch_innerHTML(\n    destination: Element,\n    baseDescriptor: PropertyDescriptor\n  ) {\n    Object.defineProperty(destination, 'innerHTML', {\n      enumerable: baseDescriptor.enumerable,\n      configurable: true,\n      get: baseDescriptor.get,\n      set: function (this: Element, htmlString) {\n        const isConnected = Utilities.isConnected(this);\n\n        // NOTE: In IE11, when using the native `innerHTML` setter, all nodes\n        // that were previously descendants of the context element have all of\n        // their children removed as part of the set - the entire subtree is\n        // 'disassembled'. This work around walks the subtree *before* using the\n        // native setter.\n        let removedElements: undefined | Array<Element> = undefined;\n        if (isConnected) {\n          removedElements = [];\n          internals.forEachElement(this, (element) => {\n            if (element !== this) {\n              removedElements!.push(element);\n            }\n          });\n        }\n\n        baseDescriptor.set!.call(this, htmlString);\n\n        if (removedElements) {\n          for (let i = 0; i < removedElements.length; i++) {\n            const element = removedElements[i];\n            if (element.__CE_state === CEState.custom) {\n              internals.disconnectedCallback(element);\n            }\n          }\n        }\n\n        // Only create custom elements if this element's owner document is\n        // associated with the registry.\n        if (!this.ownerDocument!.__CE_registry) {\n          internals.patchTree(this);\n        } else {\n          internals.patchAndUpgradeTree(this);\n        }\n        return htmlString;\n      },\n    });\n  }\n\n  if (Native.Element_innerHTML && Native.Element_innerHTML.get) {\n    patch_innerHTML(Element.prototype, Native.Element_innerHTML);\n  } else if (Native.HTMLElement_innerHTML && Native.HTMLElement_innerHTML.get) {\n    patch_innerHTML(HTMLElement.prototype, Native.HTMLElement_innerHTML);\n  } else {\n    internals.addElementPatch(function (element) {\n      patch_innerHTML(element, {\n        enumerable: true,\n        configurable: true,\n        // Implements getting `innerHTML` by performing an unpatched `cloneNode`\n        // of the element and returning the resulting element's `innerHTML`.\n        // TODO: Is this too expensive?\n        get: function (this: Element) {\n          return (Native.Node_cloneNode.call(this, true) as Element).innerHTML;\n        },\n        // Implements setting `innerHTML` by creating an unpatched element,\n        // setting `innerHTML` of that element and replacing the target\n        // element's children with those of the unpatched element.\n        set: function (this: Element, assignedValue) {\n          // NOTE: re-route to `content` for `template` elements.\n          // We need to do this because `template.appendChild` does not\n          // route into `template.content`.\n          const isTemplate = this.localName === 'template';\n          const content = isTemplate\n            ? (this as HTMLTemplateElement).content\n            : this;\n          const rawElement = Native.Document_createElementNS.call(\n            document,\n            this.namespaceURI,\n            this.localName\n          );\n          rawElement.innerHTML = assignedValue;\n\n          while (content.childNodes.length > 0) {\n            Native.Node_removeChild.call(content, content.childNodes[0]);\n          }\n          const container = isTemplate\n            ? (rawElement as HTMLTemplateElement).content\n            : rawElement;\n          while (container.childNodes.length > 0) {\n            Native.Node_appendChild.call(content, container.childNodes[0]);\n          }\n        },\n      });\n    });\n  }\n\n  Element.prototype.setAttribute = function (this: Element, name, newValue) {\n    // Fast path for non-custom elements.\n    if (this.__CE_state !== CEState.custom) {\n      return Native.Element_setAttribute.call(this, name, newValue);\n    }\n\n    const oldValue = Native.Element_getAttribute.call(this, name);\n    Native.Element_setAttribute.call(this, name, newValue);\n    newValue = Native.Element_getAttribute.call(this, name)!;\n    internals.attributeChangedCallback(this, name, oldValue, newValue, null);\n  };\n\n  Element.prototype.setAttributeNS = function (\n    this: Element,\n    namespace,\n    name,\n    newValue\n  ) {\n    // Fast path for non-custom elements.\n    if (this.__CE_state !== CEState.custom) {\n      return Native.Element_setAttributeNS.call(\n        this,\n        namespace,\n        name,\n        newValue\n      );\n    }\n\n    const oldValue = Native.Element_getAttributeNS.call(this, namespace, name);\n    Native.Element_setAttributeNS.call(this, namespace, name, newValue);\n    newValue = Native.Element_getAttributeNS.call(this, namespace, name)!;\n    internals.attributeChangedCallback(\n      this,\n      name,\n      oldValue,\n      newValue,\n      namespace\n    );\n  };\n\n  Element.prototype.removeAttribute = function (this: Element, name) {\n    // Fast path for non-custom elements.\n    if (this.__CE_state !== CEState.custom) {\n      return Native.Element_removeAttribute.call(this, name);\n    }\n\n    const oldValue = Native.Element_getAttribute.call(this, name);\n    Native.Element_removeAttribute.call(this, name);\n    if (oldValue !== null) {\n      internals.attributeChangedCallback(this, name, oldValue, null, null);\n    }\n  };\n\n  Element.prototype.removeAttributeNS = function (\n    this: Element,\n    namespace,\n    name\n  ) {\n    // Fast path for non-custom elements.\n    if (this.__CE_state !== CEState.custom) {\n      return Native.Element_removeAttributeNS.call(this, namespace, name);\n    }\n\n    const oldValue = Native.Element_getAttributeNS.call(this, namespace, name);\n    Native.Element_removeAttributeNS.call(this, namespace, name);\n    // In older browsers, `Element#getAttributeNS` may return the empty string\n    // instead of null if the attribute does not exist. For details, see;\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttributeNS#Notes\n    const newValue = Native.Element_getAttributeNS.call(this, namespace, name);\n    if (oldValue !== newValue) {\n      internals.attributeChangedCallback(\n        this,\n        name,\n        oldValue,\n        newValue,\n        namespace\n      );\n    }\n  };\n\n  function patch_insertAdjacentElement(\n    destination: Element,\n    baseMethod: Element['insertAdjacentElement']\n  ) {\n    destination.insertAdjacentElement = function (\n      this: Element,\n      position,\n      element\n    ) {\n      const wasConnected = Utilities.isConnected(element);\n      const insertedElement = baseMethod.call(this, position, element)!;\n\n      if (wasConnected) {\n        internals.disconnectTree(element);\n      }\n\n      if (Utilities.isConnected(insertedElement)) {\n        internals.connectTree(element);\n      }\n      return insertedElement;\n    };\n  }\n\n  if (Native.HTMLElement_insertAdjacentElement) {\n    patch_insertAdjacentElement(\n      HTMLElement.prototype,\n      Native.HTMLElement_insertAdjacentElement\n    );\n  } else if (Native.Element_insertAdjacentElement) {\n    patch_insertAdjacentElement(\n      Element.prototype,\n      Native.Element_insertAdjacentElement\n    );\n  }\n\n  function patch_insertAdjacentHTML(\n    destination: Element,\n    baseMethod: Element['insertAdjacentHTML']\n  ) {\n    /**\n     * Patches and upgrades all nodes which are siblings between `start`\n     * (inclusive) and `end` (exclusive). If `end` is `null`, then all siblings\n     * following `start` will be patched and upgraded.\n     */\n    function upgradeNodesInRange(start: Node, end: Node | null) {\n      const nodes = [];\n      for (let node: Node = start; node !== end; node = node.nextSibling!) {\n        nodes.push(node);\n      }\n      for (let i = 0; i < nodes.length; i++) {\n        internals.patchAndUpgradeTree(nodes[i]);\n      }\n    }\n\n    destination.insertAdjacentHTML = function (this: Element, position, text) {\n      const strPosition = position.toLowerCase();\n\n      if (strPosition === 'beforebegin') {\n        const marker = this.previousSibling;\n        baseMethod.call(this, strPosition, text);\n        upgradeNodesInRange(marker || this.parentNode!.firstChild!, this);\n      } else if (strPosition === 'afterbegin') {\n        const marker = this.firstChild;\n        baseMethod.call(this, strPosition, text);\n        upgradeNodesInRange(this.firstChild!, marker);\n      } else if (strPosition === 'beforeend') {\n        const marker = this.lastChild;\n        baseMethod.call(this, strPosition, text);\n        upgradeNodesInRange(marker || this.firstChild!, null);\n      } else if (strPosition === 'afterend') {\n        const marker = this.nextSibling;\n        baseMethod.call(this, strPosition, text);\n        upgradeNodesInRange(this.nextSibling!, marker);\n      } else {\n        throw new SyntaxError(\n          `The value provided (${String(strPosition)}) is ` +\n            \"not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.\"\n        );\n      }\n    };\n  }\n\n  if (Native.HTMLElement_insertAdjacentHTML) {\n    patch_insertAdjacentHTML(\n      HTMLElement.prototype,\n      Native.HTMLElement_insertAdjacentHTML\n    );\n  } else if (Native.Element_insertAdjacentHTML) {\n    patch_insertAdjacentHTML(\n      Element.prototype,\n      Native.Element_insertAdjacentHTML\n    );\n  }\n\n  PatchParentNode(internals, Element.prototype, {\n    prepend: Native.Element_prepend,\n    append: Native.Element_append,\n  });\n\n  PatchChildNode(internals, Element.prototype, {\n    before: Native.Element_before,\n    after: Native.Element_after,\n    replaceWith: Native.Element_replaceWith,\n    remove: Native.Element_remove,\n  });\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport CustomElementInternals from '../../CustomElementInternals.js';\nimport * as Utilities from '../../Utilities.js';\n\ntype NativeMethod = (this: ChildNode, ...args: Array<Node | string>) => void;\n\ninterface ChildNodeNativeMethods {\n  before: NativeMethod;\n  after: NativeMethod;\n  replaceWith: NativeMethod;\n  remove: (this: ChildNode) => void;\n}\n\nexport default function (\n  internals: CustomElementInternals,\n  destination: ChildNode,\n  builtIn: ChildNodeNativeMethods\n) {\n  function beforeAfterPatch(builtInMethod: NativeMethod): NativeMethod {\n    return function (this: ChildNode, ...nodes) {\n      const flattenedNodes: Array<string | Node> = [];\n      const connectedElements: Array<Node> = [];\n\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n\n        if (node instanceof Element && Utilities.isConnected(node)) {\n          connectedElements.push(node);\n        }\n\n        if (node instanceof DocumentFragment) {\n          for (let child = node.firstChild; child; child = child.nextSibling) {\n            flattenedNodes.push(child);\n          }\n        } else {\n          flattenedNodes.push(node);\n        }\n      }\n\n      builtInMethod.apply(this, nodes);\n\n      for (let i = 0; i < connectedElements.length; i++) {\n        internals.disconnectTree(connectedElements[i]);\n      }\n\n      if (Utilities.isConnected(this)) {\n        for (let i = 0; i < flattenedNodes.length; i++) {\n          const node = flattenedNodes[i];\n          if (node instanceof Element) {\n            internals.connectTree(node);\n          }\n        }\n      }\n    };\n  }\n\n  if (builtIn.before !== undefined) {\n    destination.before = beforeAfterPatch(builtIn.before);\n  }\n\n  if (builtIn.after !== undefined) {\n    destination.after = beforeAfterPatch(builtIn.after);\n  }\n\n  if (builtIn.replaceWith !== undefined) {\n    destination.replaceWith = function (\n      this: ChildNode,\n      ...nodes: Array<Node | string>\n    ) {\n      /**\n       * A copy of `nodes`, with any DocumentFragment replaced by its children.\n       */\n      const flattenedNodes: Array<Node | string> = [];\n\n      /**\n       * Elements in `nodes` that were connected before this call.\n       */\n      const connectedElements: Array<Node> = [];\n\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n\n        if (node instanceof Element && Utilities.isConnected(node)) {\n          connectedElements.push(node);\n        }\n\n        if (node instanceof DocumentFragment) {\n          for (let child = node.firstChild; child; child = child.nextSibling) {\n            flattenedNodes.push(child);\n          }\n        } else {\n          flattenedNodes.push(node);\n        }\n      }\n\n      const wasConnected = Utilities.isConnected(this);\n\n      builtIn.replaceWith.apply(this, nodes);\n\n      for (let i = 0; i < connectedElements.length; i++) {\n        internals.disconnectTree(connectedElements[i]);\n      }\n\n      if (wasConnected) {\n        internals.disconnectTree(this);\n        for (let i = 0; i < flattenedNodes.length; i++) {\n          const node = flattenedNodes[i];\n          if (node instanceof Element) {\n            internals.connectTree(node);\n          }\n        }\n      }\n    };\n  }\n\n  if (builtIn.remove !== undefined) {\n    destination.remove = function (this: ChildNode) {\n      const wasConnected = Utilities.isConnected(this);\n\n      builtIn.remove.call(this);\n\n      if (wasConnected) {\n        internals.disconnectTree(this);\n      }\n    };\n  }\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * Represents the 'already constructed marker' used in custom\n * element construction stacks.\n *\n * https://html.spec.whatwg.org/#concept-already-constructed-marker\n */\nconst alreadyConstructedMarker = {} as {_alreadyConstructedMarker: never};\n\nexport default alreadyConstructedMarker;\nexport type AlreadyConstructedMarkerType = typeof alreadyConstructedMarker;\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport AlreadyConstructedMarker from '../AlreadyConstructedMarker.js';\nimport CustomElementInternals from '../CustomElementInternals.js';\nimport CustomElementRegistry from '../CustomElementRegistry.js';\nimport CEState from '../CustomElementState.js';\nimport * as Native from './Native.js';\n\nexport default function (internals: CustomElementInternals) {\n  const PatchedHTMLElement = function HTMLElement(this: HTMLElement) {\n    // This should really be `new.target` but `new.target` can't be\n    // emulated in ES5. Assuming the user keeps the default value of the\n    // constructor's prototype's `constructor` property, this is\n    // equivalent.\n    const constructor = this.constructor as {new (): HTMLElement};\n\n    // Always look up the definition from the global registry.\n    const registry = document.__CE_registry!;\n    const definition = (registry as CustomElementRegistry).internal_constructorToDefinition(\n      constructor\n    );\n    if (!definition) {\n      throw new Error(\n        'Failed to construct a custom element: ' +\n          'The constructor was not registered with `customElements`.'\n      );\n    }\n\n    const constructionStack = definition.constructionStack;\n\n    if (constructionStack.length === 0) {\n      const element = Native.Document_createElement.call(\n        document,\n        definition.localName\n      ) as HTMLElement;\n      Object.setPrototypeOf(element, constructor.prototype as typeof element);\n      element.__CE_state = CEState.custom;\n      element.__CE_definition = definition;\n      internals.patchElement(element);\n      return element;\n    }\n\n    const lastIndex = constructionStack.length - 1;\n    const element = constructionStack[lastIndex];\n    if (element === AlreadyConstructedMarker) {\n      const localName = definition.localName;\n      throw new Error(\n        `Failed to construct '${localName}': ` +\n          'This element was already constructed.'\n      );\n    }\n    const toConstructElement = element as HTMLElement;\n    constructionStack[lastIndex] = AlreadyConstructedMarker;\n\n    Object.setPrototypeOf(\n      toConstructElement,\n      constructor.prototype as typeof toConstructElement\n    );\n    internals.patchElement(toConstructElement);\n\n    return toConstructElement;\n  };\n\n  PatchedHTMLElement.prototype = Native.HTMLElement.prototype;\n  // Safari 9 has `writable: false` on the propertyDescriptor\n  // Make it writable so that TypeScript can patch up the\n  // constructor in the ES5 compiled code.\n  Object.defineProperty(HTMLElement.prototype, 'constructor', {\n    writable: true,\n    configurable: true,\n    enumerable: false,\n    value: PatchedHTMLElement,\n  });\n\n  window['HTMLElement'] = (PatchedHTMLElement as unknown) as typeof HTMLElement;\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport CustomElementInternals from '../CustomElementInternals.js';\n\nimport PatchParentNode from './Interface/ParentNode.js';\nimport * as Native from './Native.js';\n\nexport default function (internals: CustomElementInternals) {\n  Document.prototype.createElement = function (\n    this: Document,\n    localName: string\n  ) {\n    return internals.createAnElement(this, localName, null);\n  } as typeof Document.prototype.createElement;\n\n  Document.prototype.importNode = function <T extends Node>(\n    this: Document,\n    node: T,\n    deep?: boolean\n  ): T {\n    const clone = Native.Document_importNode.call(this, node, !!deep) as T;\n    // Only create custom elements if this document is associated with the\n    // registry.\n    if (!this.__CE_registry) {\n      internals.patchTree(clone);\n    } else {\n      internals.patchAndUpgradeTree(clone);\n    }\n    return clone;\n  };\n\n  Document.prototype.createElementNS = function (\n    this: Document,\n    namespace: string | null,\n    localName: string\n  ) {\n    return internals.createAnElement(this, localName, namespace);\n  } as typeof Document.prototype.createElementNS;\n\n  PatchParentNode(internals, Document.prototype, {\n    prepend: Native.Document_prepend,\n    append: Native.Document_append,\n  });\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport CustomElementInternals from '../CustomElementInternals.js';\n\nimport PatchParentNode from './Interface/ParentNode.js';\nimport * as Native from './Native.js';\n\nexport default function (internals: CustomElementInternals) {\n  PatchParentNode(internals, DocumentFragment.prototype, {\n    prepend: Native.DocumentFragment_prepend,\n    append: Native.DocumentFragment_append,\n  });\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport CustomElementInternals from '../CustomElementInternals.js';\nimport * as Utilities from '../Utilities.js';\n\nimport * as Native from './Native.js';\n\nexport default function (internals: CustomElementInternals) {\n  // `Node#nodeValue` is implemented on `Attr`.\n  // `Node#textContent` is implemented on `Attr`, `Element`.\n\n  Node.prototype.insertBefore = function <T extends Node>(\n    this: Node,\n    node: T,\n    refNode: Node | null\n  ) {\n    if (node instanceof DocumentFragment) {\n      const insertedNodes = Utilities.childrenFromFragment(node);\n      const nativeResult = Native.Node_insertBefore.call(this, node, refNode);\n\n      // DocumentFragments can't be connected, so `disconnectTree` will never\n      // need to be called on a DocumentFragment's children after inserting it.\n\n      if (Utilities.isConnected(this)) {\n        for (let i = 0; i < insertedNodes.length; i++) {\n          internals.connectTree(insertedNodes[i]);\n        }\n      }\n\n      return nativeResult as T;\n    }\n\n    const nodeWasConnectedElement =\n      node instanceof Element && Utilities.isConnected(node);\n    const nativeResult = Native.Node_insertBefore.call(\n      this,\n      node,\n      refNode\n    ) as T;\n\n    if (nodeWasConnectedElement) {\n      internals.disconnectTree(node);\n    }\n\n    if (Utilities.isConnected(this)) {\n      internals.connectTree(node);\n    }\n\n    return nativeResult;\n  };\n\n  Node.prototype.appendChild = function <T extends Node>(this: Node, node: T) {\n    if (node instanceof DocumentFragment) {\n      const insertedNodes = Utilities.childrenFromFragment(node);\n      const nativeResult = Native.Node_appendChild.call(this, node) as T;\n\n      // DocumentFragments can't be connected, so `disconnectTree` will never\n      // need to be called on a DocumentFragment's children after inserting it.\n\n      if (Utilities.isConnected(this)) {\n        for (let i = 0; i < insertedNodes.length; i++) {\n          internals.connectTree(insertedNodes[i]);\n        }\n      }\n\n      return nativeResult;\n    }\n\n    const nodeWasConnectedElement =\n      node instanceof Element && Utilities.isConnected(node);\n    const nativeResult = Native.Node_appendChild.call(this, node) as T;\n\n    if (nodeWasConnectedElement) {\n      internals.disconnectTree(node);\n    }\n\n    if (Utilities.isConnected(this)) {\n      internals.connectTree(node);\n    }\n\n    return nativeResult;\n  };\n\n  Node.prototype.cloneNode = function (this: Node, deep) {\n    const clone = Native.Node_cloneNode.call(this, !!deep);\n    // Only create custom elements if this element's owner document is\n    // associated with the registry.\n    if (!this.ownerDocument!.__CE_registry) {\n      internals.patchTree(clone);\n    } else {\n      internals.patchAndUpgradeTree(clone);\n    }\n    return clone;\n  };\n\n  Node.prototype.removeChild = function <T extends Node>(this: Node, node: T) {\n    const nodeWasConnectedElement =\n      node instanceof Element && Utilities.isConnected(node);\n    const nativeResult = Native.Node_removeChild.call(this, node) as T;\n\n    if (nodeWasConnectedElement) {\n      internals.disconnectTree(node);\n    }\n\n    return nativeResult;\n  };\n\n  Node.prototype.replaceChild = function <T extends Node>(\n    this: Node,\n    nodeToInsert: Node,\n    nodeToRemove: T\n  ) {\n    if (nodeToInsert instanceof DocumentFragment) {\n      const insertedNodes = Utilities.childrenFromFragment(nodeToInsert);\n      const nativeResult = Native.Node_replaceChild.call(\n        this,\n        nodeToInsert,\n        nodeToRemove\n      ) as T;\n\n      // DocumentFragments can't be connected, so `disconnectTree` will never\n      // need to be called on a DocumentFragment's children after inserting it.\n\n      if (Utilities.isConnected(this)) {\n        internals.disconnectTree(nodeToRemove);\n        for (let i = 0; i < insertedNodes.length; i++) {\n          internals.connectTree(insertedNodes[i]);\n        }\n      }\n\n      return nativeResult;\n    }\n\n    const nodeToInsertWasConnectedElement =\n      nodeToInsert instanceof Element && Utilities.isConnected(nodeToInsert);\n    const nativeResult = Native.Node_replaceChild.call(\n      this,\n      nodeToInsert,\n      nodeToRemove\n    ) as T;\n    const thisIsConnected = Utilities.isConnected(this);\n\n    if (thisIsConnected) {\n      internals.disconnectTree(nodeToRemove);\n    }\n\n    if (nodeToInsertWasConnectedElement) {\n      internals.disconnectTree(nodeToInsert);\n    }\n\n    if (thisIsConnected) {\n      internals.connectTree(nodeToInsert);\n    }\n\n    return nativeResult;\n  };\n\n  function patch_textContent(\n    destination: Node,\n    baseDescriptor: PropertyDescriptor\n  ) {\n    Object.defineProperty(destination, 'textContent', {\n      enumerable: baseDescriptor.enumerable,\n      configurable: true,\n      get: baseDescriptor.get,\n      set: function (this: Node, assignedValue) {\n        // If this is a text node then there are no nodes to disconnect.\n        if (this.nodeType === Node.TEXT_NODE) {\n          baseDescriptor.set!.call(this, assignedValue);\n          return;\n        }\n\n        let removedNodes = undefined;\n        // Checking for `firstChild` is faster than reading `childNodes.length`\n        // to compare with 0.\n        if (this.firstChild) {\n          // Using `childNodes` is faster than `children`, even though we only\n          // care about elements.\n          const childNodes = this.childNodes;\n          const childNodesLength = childNodes.length;\n          if (childNodesLength > 0 && Utilities.isConnected(this)) {\n            // Copying an array by iterating is faster than using slice.\n            removedNodes = new Array(childNodesLength);\n            for (let i = 0; i < childNodesLength; i++) {\n              removedNodes[i] = childNodes[i];\n            }\n          }\n        }\n\n        baseDescriptor.set!.call(this, assignedValue);\n\n        if (removedNodes) {\n          for (let i = 0; i < removedNodes.length; i++) {\n            internals.disconnectTree(removedNodes[i]);\n          }\n        }\n      },\n    });\n  }\n\n  if (Native.Node_textContent && Native.Node_textContent.get) {\n    patch_textContent(Node.prototype, Native.Node_textContent);\n  } else {\n    internals.addNodePatch(function (element) {\n      patch_textContent(element, {\n        enumerable: true,\n        configurable: true,\n        // NOTE: This implementation of the `textContent` getter assumes that\n        // text nodes' `textContent` getter will not be patched.\n        get: function (this: Node) {\n          const parts: Array<string | null> = [];\n\n          for (let n = this.firstChild; n; n = n.nextSibling) {\n            if (n.nodeType === Node.COMMENT_NODE) {\n              continue;\n            }\n            parts.push(n.textContent);\n          }\n\n          return parts.join('');\n        },\n        set: function (this: Node, assignedValue) {\n          while (this.firstChild) {\n            Native.Node_removeChild.call(this, this.firstChild);\n          }\n          // `textContent = null | undefined | ''` does not result in\n          // a TextNode childNode\n          if (assignedValue != null && assignedValue !== '') {\n            Native.Node_appendChild.call(\n              this,\n              document.createTextNode(assignedValue)\n            );\n          }\n        },\n      });\n    });\n  }\n}\n","var MutationObserver = window.MutationObserver\n  || window.WebKitMutationObserver\n  || window.MozMutationObserver;\n\n/*\n * Copyright 2012 The Polymer Authors. All rights reserved.\n * Use of this source code is goverened by a BSD-style\n * license that can be found in the LICENSE file.\n */\n\nvar WeakMap = window.WeakMap;\n\nif (typeof WeakMap === 'undefined') {\n  var defineProperty = Object.defineProperty;\n  var counter = Date.now() % 1e9;\n\n  WeakMap = function() {\n    this.name = '__st' + (Math.random() * 1e9 >>> 0) + (counter++ + '__');\n  };\n\n  WeakMap.prototype = {\n    set: function(key, value) {\n      var entry = key[this.name];\n      if (entry && entry[0] === key)\n        entry[1] = value;\n      else\n        defineProperty(key, this.name, {value: [key, value], writable: true});\n      return this;\n    },\n    get: function(key) {\n      var entry;\n      return (entry = key[this.name]) && entry[0] === key ?\n          entry[1] : undefined;\n    },\n    'delete': function(key) {\n      var entry = key[this.name];\n      if (!entry) return false;\n      var hasValue = entry[0] === key;\n      entry[0] = entry[1] = undefined;\n      return hasValue;\n    },\n    has: function(key) {\n      var entry = key[this.name];\n      if (!entry) return false;\n      return entry[0] === key;\n    }\n  };\n}\n\nvar registrationsTable = new WeakMap();\n\n// We use setImmediate or postMessage for our future callback.\nvar setImmediate = window.msSetImmediate;\n\n// Use post message to emulate setImmediate.\nif (!setImmediate) {\n  var setImmediateQueue = [];\n  var sentinel = String(Math.random());\n  window.addEventListener('message', function(e) {\n    if (e.data === sentinel) {\n      var queue = setImmediateQueue;\n      setImmediateQueue = [];\n      queue.forEach(function(func) {\n        func();\n      });\n    }\n  });\n  setImmediate = function(func) {\n    setImmediateQueue.push(func);\n    window.postMessage(sentinel, '*');\n  };\n}\n\n// This is used to ensure that we never schedule 2 callas to setImmediate\nvar isScheduled = false;\n\n// Keep track of observers that needs to be notified next time.\nvar scheduledObservers = [];\n\n/**\n * Schedules |dispatchCallback| to be called in the future.\n * @param {MutationObserver} observer\n */\nfunction scheduleCallback(observer) {\n  scheduledObservers.push(observer);\n  if (!isScheduled) {\n    isScheduled = true;\n    setImmediate(dispatchCallbacks);\n  }\n}\n\nfunction wrapIfNeeded(node) {\n  return window.ShadowDOMPolyfill &&\n      window.ShadowDOMPolyfill.wrapIfNeeded(node) ||\n      node;\n}\n\nfunction dispatchCallbacks() {\n  // http://dom.spec.whatwg.org/#mutation-observers\n\n  isScheduled = false; // Used to allow a new setImmediate call above.\n\n  var observers = scheduledObservers;\n  scheduledObservers = [];\n  // Sort observers based on their creation UID (incremental).\n  observers.sort(function(o1, o2) {\n    return o1.uid_ - o2.uid_;\n  });\n\n  var anyNonEmpty = false;\n  observers.forEach(function(observer) {\n\n    // 2.1, 2.2\n    var queue = observer.takeRecords();\n    // 2.3. Remove all transient registered observers whose observer is mo.\n    removeTransientObserversFor(observer);\n\n    // 2.4\n    if (queue.length) {\n      observer.callback_(queue, observer);\n      anyNonEmpty = true;\n    }\n  });\n\n  // 3.\n  if (anyNonEmpty)\n    dispatchCallbacks();\n}\n\nfunction removeTransientObserversFor(observer) {\n  observer.nodes_.forEach(function(node) {\n    var registrations = registrationsTable.get(node);\n    if (!registrations)\n      return;\n    registrations.forEach(function(registration) {\n      if (registration.observer === observer)\n        registration.removeTransientObservers();\n    });\n  });\n}\n\n/**\n * This function is used for the \"For each registered observer observer (with\n * observer's options as options) in target's list of registered observers,\n * run these substeps:\" and the \"For each ancestor ancestor of target, and for\n * each registered observer observer (with options options) in ancestor's list\n * of registered observers, run these substeps:\" part of the algorithms. The\n * |options.subtree| is checked to ensure that the callback is called\n * correctly.\n *\n * @param {Node} target\n * @param {function(MutationObserverInit):MutationRecord} callback\n */\nfunction forEachAncestorAndObserverEnqueueRecord(target, callback) {\n  for (var node = target; node; node = node.parentNode) {\n    var registrations = registrationsTable.get(node);\n\n    if (registrations) {\n      for (var j = 0; j < registrations.length; j++) {\n        var registration = registrations[j];\n        var options = registration.options;\n\n        // Only target ignores subtree.\n        if (node !== target && !options.subtree)\n          continue;\n\n        var record = callback(options);\n        if (record)\n          registration.enqueue(record);\n      }\n    }\n  }\n}\n\nvar uidCounter = 0;\n\n/**\n * The class that maps to the DOM MutationObserver interface.\n * @param {Function} callback.\n * @constructor\n */\nfunction JsMutationObserver(callback) {\n  this.callback_ = callback;\n  this.nodes_ = [];\n  this.records_ = [];\n  this.uid_ = ++uidCounter;\n}\n\nJsMutationObserver.prototype = {\n  observe: function(target, options) {\n    target = wrapIfNeeded(target);\n\n    // 1.1\n    if (!options.childList && !options.attributes && !options.characterData ||\n\n        // 1.2\n        options.attributeOldValue && !options.attributes ||\n\n        // 1.3\n        options.attributeFilter && options.attributeFilter.length &&\n            !options.attributes ||\n\n        // 1.4\n        options.characterDataOldValue && !options.characterData) {\n\n      throw new SyntaxError();\n    }\n\n    var registrations = registrationsTable.get(target);\n    if (!registrations)\n      registrationsTable.set(target, registrations = []);\n\n    // 2\n    // If target's list of registered observers already includes a registered\n    // observer associated with the context object, replace that registered\n    // observer's options with options.\n    var registration;\n    for (var i = 0; i < registrations.length; i++) {\n      if (registrations[i].observer === this) {\n        registration = registrations[i];\n        registration.removeListeners();\n        registration.options = options;\n        break;\n      }\n    }\n\n    // 3.\n    // Otherwise, add a new registered observer to target's list of registered\n    // observers with the context object as the observer and options as the\n    // options, and add target to context object's list of nodes on which it\n    // is registered.\n    if (!registration) {\n      registration = new Registration(this, target, options);\n      registrations.push(registration);\n      this.nodes_.push(target);\n    }\n\n    registration.addListeners();\n  },\n\n  disconnect: function() {\n    this.nodes_.forEach(function(node) {\n      var registrations = registrationsTable.get(node);\n      for (var i = 0; i < registrations.length; i++) {\n        var registration = registrations[i];\n        if (registration.observer === this) {\n          registration.removeListeners();\n          registrations.splice(i, 1);\n          // Each node can only have one registered observer associated with\n          // this observer.\n          break;\n        }\n      }\n    }, this);\n    this.records_ = [];\n  },\n\n  takeRecords: function() {\n    var copyOfRecords = this.records_;\n    this.records_ = [];\n    return copyOfRecords;\n  }\n};\n\n/**\n * @param {string} type\n * @param {Node} target\n * @constructor\n */\nfunction MutationRecord(type, target) {\n  this.type = type;\n  this.target = target;\n  this.addedNodes = [];\n  this.removedNodes = [];\n  this.previousSibling = null;\n  this.nextSibling = null;\n  this.attributeName = null;\n  this.attributeNamespace = null;\n  this.oldValue = null;\n}\n\nfunction copyMutationRecord(original) {\n  var record = new MutationRecord(original.type, original.target);\n  record.addedNodes = original.addedNodes.slice();\n  record.removedNodes = original.removedNodes.slice();\n  record.previousSibling = original.previousSibling;\n  record.nextSibling = original.nextSibling;\n  record.attributeName = original.attributeName;\n  record.attributeNamespace = original.attributeNamespace;\n  record.oldValue = original.oldValue;\n  return record;\n};\n\n// We keep track of the two (possibly one) records used in a single mutation.\nvar currentRecord, recordWithOldValue;\n\n/**\n * Creates a record without |oldValue| and caches it as |currentRecord| for\n * later use.\n * @param {string} oldValue\n * @return {MutationRecord}\n */\nfunction getRecord(type, target) {\n  return currentRecord = new MutationRecord(type, target);\n}\n\n/**\n * Gets or creates a record with |oldValue| based in the |currentRecord|\n * @param {string} oldValue\n * @return {MutationRecord}\n */\nfunction getRecordWithOldValue(oldValue) {\n  if (recordWithOldValue)\n    return recordWithOldValue;\n  recordWithOldValue = copyMutationRecord(currentRecord);\n  recordWithOldValue.oldValue = oldValue;\n  return recordWithOldValue;\n}\n\nfunction clearRecords() {\n  currentRecord = recordWithOldValue = undefined;\n}\n\n/**\n * @param {MutationRecord} record\n * @return {boolean} Whether the record represents a record from the current\n * mutation event.\n */\nfunction recordRepresentsCurrentMutation(record) {\n  return record === recordWithOldValue || record === currentRecord;\n}\n\n/**\n * Selects which record, if any, to replace the last record in the queue.\n * This returns |null| if no record should be replaced.\n *\n * @param {MutationRecord} lastRecord\n * @param {MutationRecord} newRecord\n * @param {MutationRecord}\n */\nfunction selectRecord(lastRecord, newRecord) {\n  if (lastRecord === newRecord)\n    return lastRecord;\n\n  // Check if the the record we are adding represents the same record. If\n  // so, we keep the one with the oldValue in it.\n  if (recordWithOldValue && recordRepresentsCurrentMutation(lastRecord))\n    return recordWithOldValue;\n\n  return null;\n}\n\n/**\n * Class used to represent a registered observer.\n * @param {MutationObserver} observer\n * @param {Node} target\n * @param {MutationObserverInit} options\n * @constructor\n */\nfunction Registration(observer, target, options) {\n  this.observer = observer;\n  this.target = target;\n  this.options = options;\n  this.transientObservedNodes = [];\n}\n\nRegistration.prototype = {\n  enqueue: function(record) {\n    var records = this.observer.records_;\n    var length = records.length;\n\n    // There are cases where we replace the last record with the new record.\n    // For example if the record represents the same mutation we need to use\n    // the one with the oldValue. If we get same record (this can happen as we\n    // walk up the tree) we ignore the new record.\n    if (records.length > 0) {\n      var lastRecord = records[length - 1];\n      var recordToReplaceLast = selectRecord(lastRecord, record);\n      if (recordToReplaceLast) {\n        records[length - 1] = recordToReplaceLast;\n        return;\n      }\n    } else {\n      scheduleCallback(this.observer);\n    }\n\n    records[length] = record;\n  },\n\n  addListeners: function() {\n    this.addListeners_(this.target);\n  },\n\n  addListeners_: function(node) {\n    var options = this.options;\n    if (options.attributes)\n      node.addEventListener('DOMAttrModified', this, true);\n\n    if (options.characterData)\n      node.addEventListener('DOMCharacterDataModified', this, true);\n\n    if (options.childList)\n      node.addEventListener('DOMNodeInserted', this, true);\n\n    if (options.childList || options.subtree)\n      node.addEventListener('DOMNodeRemoved', this, true);\n  },\n\n  removeListeners: function() {\n    this.removeListeners_(this.target);\n  },\n\n  removeListeners_: function(node) {\n    var options = this.options;\n    if (options.attributes)\n      node.removeEventListener('DOMAttrModified', this, true);\n\n    if (options.characterData)\n      node.removeEventListener('DOMCharacterDataModified', this, true);\n\n    if (options.childList)\n      node.removeEventListener('DOMNodeInserted', this, true);\n\n    if (options.childList || options.subtree)\n      node.removeEventListener('DOMNodeRemoved', this, true);\n  },\n\n  /**\n   * Adds a transient observer on node. The transient observer gets removed\n   * next time we deliver the change records.\n   * @param {Node} node\n   */\n  addTransientObserver: function(node) {\n    // Don't add transient observers on the target itself. We already have all\n    // the required listeners set up on the target.\n    if (node === this.target)\n      return;\n\n    this.addListeners_(node);\n    this.transientObservedNodes.push(node);\n    var registrations = registrationsTable.get(node);\n    if (!registrations)\n      registrationsTable.set(node, registrations = []);\n\n    // We know that registrations does not contain this because we already\n    // checked if node === this.target.\n    registrations.push(this);\n  },\n\n  removeTransientObservers: function() {\n    var transientObservedNodes = this.transientObservedNodes;\n    this.transientObservedNodes = [];\n\n    transientObservedNodes.forEach(function(node) {\n      // Transient observers are never added to the target.\n      this.removeListeners_(node);\n\n      var registrations = registrationsTable.get(node);\n      for (var i = 0; i < registrations.length; i++) {\n        if (registrations[i] === this) {\n          registrations.splice(i, 1);\n          // Each node can only have one registered observer associated with\n          // this observer.\n          break;\n        }\n      }\n    }, this);\n  },\n\n  handleEvent: function(e) {\n    // Stop propagation since we are managing the propagation manually.\n    // This means that other mutation events on the page will not work\n    // correctly but that is by design.\n    e.stopImmediatePropagation();\n\n    switch (e.type) {\n      case 'DOMAttrModified':\n        // http://dom.spec.whatwg.org/#concept-mo-queue-attributes\n\n        var name = e.attrName;\n        var namespace = e.relatedNode.namespaceURI;\n        var target = e.target;\n\n        // 1.\n        var record = new getRecord('attributes', target);\n        record.attributeName = name;\n        record.attributeNamespace = namespace;\n\n        // 2.\n        var oldValue = null;\n        if (!(typeof MutationEvent !== 'undefined' && e.attrChange === MutationEvent.ADDITION))\n          oldValue = e.prevValue;\n\n        forEachAncestorAndObserverEnqueueRecord(target, function(options) {\n          // 3.1, 4.2\n          if (!options.attributes)\n            return;\n\n          // 3.2, 4.3\n          if (options.attributeFilter && options.attributeFilter.length &&\n              options.attributeFilter.indexOf(name) === -1 &&\n              options.attributeFilter.indexOf(namespace) === -1) {\n            return;\n          }\n          // 3.3, 4.4\n          if (options.attributeOldValue)\n            return getRecordWithOldValue(oldValue);\n\n          // 3.4, 4.5\n          return record;\n        });\n\n        break;\n\n      case 'DOMCharacterDataModified':\n        // http://dom.spec.whatwg.org/#concept-mo-queue-characterdata\n        var target = e.target;\n\n        // 1.\n        var record = getRecord('characterData', target);\n\n        // 2.\n        var oldValue = e.prevValue;\n\n\n        forEachAncestorAndObserverEnqueueRecord(target, function(options) {\n          // 3.1, 4.2\n          if (!options.characterData)\n            return;\n\n          // 3.2, 4.3\n          if (options.characterDataOldValue)\n            return getRecordWithOldValue(oldValue);\n\n          // 3.3, 4.4\n          return record;\n        });\n\n        break;\n\n      case 'DOMNodeRemoved':\n        this.addTransientObserver(e.target);\n        // Fall through.\n      case 'DOMNodeInserted':\n        // http://dom.spec.whatwg.org/#concept-mo-queue-childlist\n        var target = e.relatedNode;\n        var changedNode = e.target;\n        var addedNodes, removedNodes;\n        if (e.type === 'DOMNodeInserted') {\n          addedNodes = [changedNode];\n          removedNodes = [];\n        } else {\n\n          addedNodes = [];\n          removedNodes = [changedNode];\n        }\n        var previousSibling = changedNode.previousSibling;\n        var nextSibling = changedNode.nextSibling;\n\n        // 1.\n        var record = getRecord('childList', target);\n        record.addedNodes = addedNodes;\n        record.removedNodes = removedNodes;\n        record.previousSibling = previousSibling;\n        record.nextSibling = nextSibling;\n\n        forEachAncestorAndObserverEnqueueRecord(target, function(options) {\n          // 2.1, 3.2\n          if (!options.childList)\n            return;\n\n          // 2.2, 3.3\n          return record;\n        });\n\n    }\n\n    clearRecords();\n  }\n};\n\nif (!MutationObserver) {\n  MutationObserver = JsMutationObserver;\n}\n\nmodule.exports = MutationObserver;\n",null,null,null,null,null,null,null,"import \"dom4\";\nimport \"@webcomponents/custom-elements\";\nimport \"mutation-observer\";\n\nimport { LogsAppElement } from \"./components/logs-app\";\nimport { LogsStepNavElement } from \"./components/logs-step-nav\";\nimport { LogsHeaderElement } from \"./components/logs-header\";\nimport { LogsDetailsElement } from \"./components/logs-details\";\n\nexport {\n  LogsAppElement,\n  LogsStepNavElement,\n  LogsHeaderElement,\n  LogsDetailsElement,\n};\n","import { controller } from \"@github/catalyst\";\n\n@controller\nexport class LogsAppElement extends HTMLElement {\n  #max = 10;\n  connectedCallback() {\n    this.update();\n  }\n\n  renderStepDetails(): string {\n    const result: string[] = [];\n    for (let i = 0; i < this.#max; i++) {\n      result.push(`<logs-details data-step=${i + 1}></logs-details>`);\n    }\n    return result.join(\"\");\n  }\n\n  update() {\n    this.innerHTML = `\n      <logs-step-nav data-count=${this.#max}></logs-step-nav>\n      <logs-container class=\"log_container\">\n        <logs-header class=\"header\"></logs-header>\n          ${this.renderStepDetails()}\n      </logs-container>`;\n  }\n}\n","import { attr, controller } from \"@github/catalyst\";\n\n@controller\nexport class LogsStepNavElement extends HTMLElement {\n  @attr count = 0;\n  connectedCallback() {\n    this.update();\n  }\n\n  renderStepLinks(): string {\n    const result: string[] = [];\n    for (let i = 0; i < this.count; i++) {\n      result.push(\n        `<li class=\"stepLink\"><a href=\"#step${i + 1}\">Step ${i + 1}</a></li>`\n      );\n    }\n    return result.join(\"\");\n  }\n\n  update() {\n    this.innerHTML = `\n        <ul class=\"log_step\">\n            ${this.renderStepLinks()}\n        </ul>`;\n  }\n}\n","import { controller } from \"@github/catalyst\";\n\n@controller\nexport class LogsHeaderElement extends HTMLElement {\n  connectedCallback() {\n    this.update();\n  }\n\n  update() {\n    this.innerHTML = `\n          <h2>Action Logs</h2>\n          <form\n            role=\"search\"\n            class=\"log_form\"\n            method=\"GET\"\n            onsubmit=\"return false\"\n          >\n            <button type=\"submit\">\n              <span>Submit Search</span>\n            </button>\n            <input\n              aria-label=\"Search\"\n              id=\"search\"\n              type=\"search\"\n              placeholder=\"Search the logs\"\n            />\n          </form>\n        `;\n  }\n}\n","import { attr, controller } from \"@github/catalyst\";\n\n@controller\nexport class LogsDetailsElement extends HTMLElement {\n  @attr step: number = 0;\n\n  connectedCallback() {\n    this.update();\n  }\n\n  update() {\n    this.innerHTML = `\n          <details class=\"log\">\n            <summary class=\"log_summary\">Step ${this.step}</summary>\n            <div class=\"log_description\">\n            </div>\n              <div style=\"text-align: center\">Show more</div>\n          </details>\n        `;\n  }\n}\n","import \"dom4\";\nimport \"@webcomponents/custom-elements\";\nimport \"mutation-observer\";\n\nimport { LogsAppElement } from \"./components/logs-app\";\nimport { LogsStepNavElement } from \"./components/logs-step-nav\";\nimport { LogsHeaderElement } from \"./components/logs-header\";\nimport { LogsDetailsElement } from \"./components/logs-details\";\n\nexport {\n  LogsAppElement,\n  LogsStepNavElement,\n  LogsHeaderElement,\n  LogsDetailsElement,\n};\n"]}